(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{mNwH:function(t,e,i){"use strict";i.r(e);var s={data:function(){return{nickname:"",build_disabled:!0}},components:{msg:i("v9aq").a},created:function(){document.title="創建偶像"},computed:{error:function(){return this.$store.state.error},api_prefix:function(){return this.$store.state.api_prefix}},methods:{build:function(){var t=this;if(!this.build_disabled){var e=this.api_prefix.concat("store-profile");axios.post(e,{nickname:this.nickname}).then((function(e){var i=e.status,s=e.message;i?t.$store.dispatch("load_my_profile").then((function(){t.$router.push({name:"index"})})):(t.$store.commit("show_error",s),t.build_disabled=!1)})).catch((function(e){if(422===e.status){var i="",s=e.data.errors;Object.keys(s).forEach((function(t){i+=s[t]+"\n"})),t.$store.commit("show_error",i)}else t.$store.commit("show_error","發生錯誤: "+e.statusText);t.build_disabled=!1}))}},ban_build:function(){var t=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9]+$");this.nickname.match(t)?this.build_disabled=0===this.nickname.length||this.nickname.length>12:this.build_disabled=!0}}},a=i("KHd+"),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[i("div",{staticClass:"card-header"},[t._v("建立暱稱")]),t._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"row"},[i("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("暱稱")]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",class:t.$store.getters.disabled_class(t.build_disabled),staticStyle:{width:"100%"},attrs:{type:"text",autocomplete:"off",autofocus:""},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},t.ban_build]}}),t._v(" "),i("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("最多12字元，且無特殊字元")])]),t._v(" "),i("button",{staticClass:"btn btn-primary",staticStyle:{width:"60px",height:"1%"},attrs:{type:"button",disabled:"",disabled:t.build_disabled},on:{click:t.build}},[t._v("建立")])])]),t._v(" "),t.error.status?i("div",{staticClass:"card-footer"},[i("msg",[t._v(t._s(t.error.message))])],1):t._e()])])])])}),[],!1,null,null,null);e.default=r.exports},v9aq:function(t,e,i){"use strict";var s;i.d(e,"a",(function(){return o}));var a,r,o=i("nFaw").a.div(s||(a=["\n    color: #9A0000;\n"],r||(r=a.slice(0)),s=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(r)}}))))}}]);