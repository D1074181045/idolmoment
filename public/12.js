(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"j/J7":function(s,e,t){"use strict";t.r(e);var r={data:function(){return{username:"",password:"",password_confirm:"",pw_is_show:!1,username_disabled:!0,password_disabled:!0,register_disabled:!0}},components:{msg:t("v9aq").a},computed:{error:function(){return this.$store.state.error},api_prefix:function(){return this.$store.state.api_prefix}},activated:function(){document.title="註冊"},methods:{pw_title:function(){return this.pw_is_show?"顯示密碼":"隱藏密碼"},pw_type:function(){return this.pw_is_show?"text":"password"},password_toggle_button:function(s){this.pw_is_show=s.target.checked},between:function(s,e,t){return s>=e&&s<=t},ban_register:function(){var s=new RegExp("^[0-9A-Za-z]+$");this.username_disabled=!this.username.match(s)||!this.between(this.username.length,5,15),this.password_disabled=this.password!==this.password_confirm||!this.password.match(s)||!this.between(this.password.length,8,32),this.register_disabled=this.username_disabled||this.password_disabled},back:function(){this.$router.push({name:"login"})},register_click:function(){var s=this;if(!this.register_disabled){var e=this.api_prefix.concat("register");this.$refs.register.focus(),axios.post(e,{username:this.username,password:this.password,password_confirm:this.password_confirm}).then((function(e){var t=e.status,r=e.message;t?(s.username="",s.password="",s.password_confirm="",s.username_disabled=!0,s.password_disabled=!0,s.$router.push({name:"login"})):s.$store.commit("show_error",r)})).catch((function(e){if(422===e.status){var t="",r=e.data.errors;Object.keys(r).forEach((function(s){t+=r[s]+"\n"})),s.$store.commit("show_error",t)}else s.$store.commit("show_error","發生錯誤: "+e.statusText)}))}}}},a=t("KHd+"),o=Object(a.a)(r,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"col-md-8",on:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.register_click(e)}}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[s._v("Register")]),s._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-4 col-form-label text-md-right"},[s._v("使用者名稱")]),s._v(" "),t("div",{staticClass:"col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.username_disabled),attrs:{type:"text",autocomplete:"off",required:"",autofocus:""},domProps:{value:s.username},on:{input:[function(e){e.target.composing||(s.username=e.target.value)},s.ban_register]}}),s._v(" "),t("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[s._v("請介於5到15字元之間，且無特殊字元")])])]),s._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-4 col-form-label text-md-right"},[s._v("密碼")]),s._v(" "),t("div",{staticClass:"col-md-6"},["checkbox"===s.pw_type()?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{input:s.ban_register,change:function(e){var t=s.password,r=e.target,a=!!r.checked;if(Array.isArray(t)){var o=s._i(t,null);r.checked?o<0&&(s.password=t.concat([null])):o>-1&&(s.password=t.slice(0,o).concat(t.slice(o+1)))}else s.password=a}}}):"radio"===s.pw_type()?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{input:s.ban_register,change:function(e){s.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:s.pw_type()},domProps:{value:s.password},on:{input:[function(e){e.target.composing||(s.password=e.target.value)},s.ban_register]}}),s._v(" "),t("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[s._v("請介於8到32字元之間，且無特殊字元")])])]),s._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-4 col-form-label text-md-right"},[s._v("確認密碼")]),s._v(" "),t("div",{staticClass:"col-md-6"},["checkbox"===s.pw_type()?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"checkbox"},domProps:{checked:Array.isArray(s.password_confirm)?s._i(s.password_confirm,null)>-1:s.password_confirm},on:{input:s.ban_register,change:function(e){var t=s.password_confirm,r=e.target,a=!!r.checked;if(Array.isArray(t)){var o=s._i(t,null);r.checked?o<0&&(s.password_confirm=t.concat([null])):o>-1&&(s.password_confirm=t.slice(0,o).concat(t.slice(o+1)))}else s.password_confirm=a}}}):"radio"===s.pw_type()?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"radio"},domProps:{checked:s._q(s.password_confirm,null)},on:{input:s.ban_register,change:function(e){s.password_confirm=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:s.pw_type()},domProps:{value:s.password_confirm},on:{input:[function(e){e.target.composing||(s.password_confirm=e.target.value)},s.ban_register]}})]),s._v(" "),t("div",{staticClass:"show-hide-toggle-button"},[t("input",{attrs:{type:"checkbox",id:"password-toggle-button"},on:{click:s.password_toggle_button}}),s._v(" "),t("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"password-toggle-button",title:s.pw_title()}},[s._v("Toggle")])])]),s._v(" "),t("div",{staticClass:"form-group row mb-0"},[t("div",{staticClass:"col-md-8 offset-md-4"},[t("button",{ref:"register",staticClass:"btn btn-primary",attrs:{id:"register",name:"register",type:"button",disabled:"",disabled:s.register_disabled},on:{click:s.register_click}},[s._v("註冊")]),s._v(" "),t("button",{staticClass:"btn btn-dark",attrs:{id:"back",name:"back",type:"button"},on:{click:s.back}},[s._v("返回")])])])]),s._v(" "),s.error.status?t("div",{staticClass:"card-footer"},[t("msg",{staticStyle:{"text-align":"center"}},[s._v(s._s(s.error.message))])],1):s._e()])])}),[],!1,null,null,null);e.default=o.exports},v9aq:function(s,e,t){"use strict";var r;t.d(e,"a",(function(){return i}));var a,o,i=t("nFaw").a.div(r||(a=["\n    color: #9A0000;\n"],o||(o=a.slice(0)),r=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(o)}}))))}}]);