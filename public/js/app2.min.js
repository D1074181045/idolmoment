(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1:function(e,t,s){e.exports=s("EkFx")},"7Lkh":function(e,t,s){"use strict";s.r(t);var o=s("vDqi"),a=s.n(o);window.axios=a.a.create(),window.axios.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&(localStorage.token=t.substr(7),window.axios.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.token)),e.data}),(function(e){switch(e.response.status){case 401:document.location.href="/logout"}return Promise.reject(e.response)}))},"9Wh1":function(e,t,s){try{window.$=window.jQuery=s("EVdn"),s("4yks"),s("SYky")}catch(e){}},EkFx:function(e,t,s){"use strict";s.r(t);var o=s("XuX8"),a=s.n(o),r=s("Jc6O"),i=s("jE9Z"),n=s("v9aq"),l={data:function(){return{username:"",password:"",autologin:!1,pw_is_show:!1,username_disabled:!0,password_disabled:!0,login_disabled:!0}},components:{msg:n.a},computed:{error:function(){return this.$store.state.error}},methods:{pw_title:function(){return this.pw_is_show?"顯示密碼":"隱藏密碼"},pw_type:function(){return this.pw_is_show?"text":"password"},password_toggle_button:function(e){this.pw_is_show=e.target.checked},ban_login:function(){this.username_disabled=this.username.length<=0,this.password_disabled=this.password.length<=0,this.login_disabled=this.username_disabled||this.password_disabled},to_register:function(){this.$router.push({name:"register"})},login_click:function(){var e=this;this.login_disabled||(this.$refs.login.focus(),axios.get(this.api_prefix.concat("login"),{params:{username:this.username,password:this.password,autologin:this.autologin}}).then((function(t){var s=t.status,o=t.message,a=t.token;s?(localStorage.token=a,document.location.href="/"):(e.password="",e.password_disabled=!0,e.autologin=!1,e.login_disabled=!0,e.$store.commit("show_error",o))})).catch((function(t){if(422===t.status){var s="",o=t.data.errors;Object.keys(o).forEach((function(e){s+=o[e]+"\n"})),e.$store.commit("show_error",s)}else e.$store.commit("show_error","發生錯誤: "+t.statusText)})))},login_enter:function(){var e=this;document.onkeydown=function(t){console.log(t),13===t.keyCode&&e.login_click()}}}},c=s("KHd+"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-8",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login_click(t)}}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Login")]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[e._v("使用者名稱")]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.username_disabled),attrs:{type:"text",autocomplete:"off",autofocus:""},domProps:{value:e.username},on:{input:[function(t){t.target.composing||(e.username=t.target.value)},e.ban_login]}})])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[e._v("使用者密碼")]),e._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{required:"",autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{input:e.ban_login,change:function(t){var s=e.password,o=t.target,a=!!o.checked;if(Array.isArray(s)){var r=e._i(s,null);o.checked?r<0&&(e.password=s.concat([null])):r>-1&&(e.password=s.slice(0,r).concat(s.slice(r+1)))}else e.password=a}}}):"radio"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{required:"",autocomplete:"off",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{input:e.ban_login,change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{required:"",autocomplete:"off",type:e.pw_type()},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.ban_login]}})]),e._v(" "),s("div",{staticClass:"show-hide-toggle-button"},[s("input",{attrs:{type:"checkbox",id:"password-toggle-button"},on:{click:e.password_toggle_button}}),e._v(" "),s("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"password-toggle-button",title:e.pw_title()}},[e._v("Toggle")])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-6 offset-md-4"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autologin,expression:"autologin"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autologin)?e._i(e.autologin,null)>-1:e.autologin},on:{change:function(t){var s=e.autologin,o=t.target,a=!!o.checked;if(Array.isArray(s)){var r=e._i(s,null);o.checked?r<0&&(e.autologin=s.concat([null])):r>-1&&(e.autologin=s.slice(0,r).concat(s.slice(r+1)))}else e.autologin=a}}}),e._v(" "),s("label",{staticClass:"form-check-label"},[e._v("自動登入")])])])]),e._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{ref:"login",staticClass:"btn btn-primary",attrs:{type:"button",disabled:"",disabled:e.login_disabled},on:{click:e.login_click}},[e._v("登入")]),e._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:e.to_register}},[e._v("前往註冊")])])])]),e._v(" "),e.error.status?s("div",{staticClass:"card-footer"},[s("msg",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.error.message))])],1):e._e()])])}),[],!1,null,null,null).exports,u={data:function(){return{username:"",password:"",password_confirm:"",pw_is_show:!1,username_disabled:!0,password_disabled:!0,register_disabled:!0}},components:{msg:n.a},computed:{error:function(){return this.$store.state.error}},methods:{pw_title:function(){return this.pw_is_show?"顯示密碼":"隱藏密碼"},pw_type:function(){return this.pw_is_show?"text":"password"},password_toggle_button:function(e){this.pw_is_show=e.target.checked},between:function(e,t,s){return e>=t&&e<=s},ban_register:function(){var e=new RegExp("^[0-9A-Za-z]+$"),t=0;this.username.match(e)&&this.between(this.username.length,5,15)?(this.username_disabled=!1,t+=1):this.username_disabled=!0,this.password===this.password_confirm&&this.password.match(e)&&this.between(this.password.length,8,32)?(this.password_disabled=!1,t+=1):this.password_disabled=!0,this.register_disabled=2!==t},back:function(){this.$router.push({name:"login"})},register_click:function(){var e=this;this.register_disabled||(this.$refs.register.focus(),axios.post(this.api_prefix.concat("register"),{username:this.username,password:this.password,password_confirm:this.password_confirm}).then((function(t){var s=t.status,o=t.message;s?(e.username="",e.password="",e.password_confirm="",e.username_disabled=!0,e.password_disabled=!0,e.$router.push({name:"login"})):e.$store.commit("show_error",o)})).catch((function(t){if(422===t.status){var s="",o=t.data.errors;Object.keys(o).forEach((function(e){s+=o[e]+"\n"})),e.$store.commit("show_error",s)}else e.$store.commit("show_error","發生錯誤: "+t.statusText)})))}}},p=Object(c.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-8",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register_click(t)}}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Register")]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[e._v("使用者名稱")]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.username_disabled),attrs:{type:"text",autocomplete:"off",required:"",autofocus:""},domProps:{value:e.username},on:{input:[function(t){t.target.composing||(e.username=t.target.value)},e.ban_register]}}),e._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[e._v("請介於5到15字元之間，且無特殊字元")])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[e._v("密碼")]),e._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{input:e.ban_register,change:function(t){var s=e.password,o=t.target,a=!!o.checked;if(Array.isArray(s)){var r=e._i(s,null);o.checked?r<0&&(e.password=s.concat([null])):r>-1&&(e.password=s.slice(0,r).concat(s.slice(r+1)))}else e.password=a}}}):"radio"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{input:e.ban_register,change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:e.pw_type()},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.ban_register]}}),e._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[e._v("請介於8到32字元之間，且無特殊字元")])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[e._v("確認密碼")]),e._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.password_confirm)?e._i(e.password_confirm,null)>-1:e.password_confirm},on:{input:e.ban_register,change:function(t){var s=e.password_confirm,o=t.target,a=!!o.checked;if(Array.isArray(s)){var r=e._i(s,null);o.checked?r<0&&(e.password_confirm=s.concat([null])):r>-1&&(e.password_confirm=s.slice(0,r).concat(s.slice(r+1)))}else e.password_confirm=a}}}):"radio"===e.pw_type()?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:"radio"},domProps:{checked:e._q(e.password_confirm,null)},on:{input:e.ban_register,change:function(t){e.password_confirm=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirm,expression:"password_confirm"}],staticClass:"form-control",class:e.$store.getters.disabled_class(e.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",type:e.pw_type()},domProps:{value:e.password_confirm},on:{input:[function(t){t.target.composing||(e.password_confirm=t.target.value)},e.ban_register]}})]),e._v(" "),s("div",{staticClass:"show-hide-toggle-button"},[s("input",{attrs:{type:"checkbox",id:"password-toggle-button"},on:{click:e.password_toggle_button}}),e._v(" "),s("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"password-toggle-button",title:e.pw_title()}},[e._v("Toggle")])])]),e._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{ref:"register",staticClass:"btn btn-primary",attrs:{id:"register",name:"register",type:"button",disabled:"",disabled:e.register_disabled},on:{click:e.register_click}},[e._v("註冊")]),e._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{id:"back",name:"back",type:"button"},on:{click:e.back}},[e._v("返回")])])])]),e._v(" "),e.error.status?s("div",{staticClass:"card-footer"},[s("msg",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.error.message))])],1):e._e()])])}),[],!1,null,null,null).exports;a.a.use(i.a);var m=[{path:"/login",component:d,name:"login",meta:{KeepAlive:!0}},{path:"/register",component:p,name:"register",meta:{KeepAlive:!0}}],_=new i.a({mode:"history",linkActiveClass:"active",routes:m});function w(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,s,o;return t=e,o=[{key:"variables",value:function(){a.a.prototype.api_prefix="/api/"}},{key:"methods",value:function(){}}],(s=null)&&w(t.prototype,s),o&&w(t,o),e}();try{s("9Wh1"),s("7Lkh"),f.variables(),new a.a({el:"#app",store:r.a,router:_})}catch(e){console.log(e)}},Jc6O:function(e,t,s){"use strict";var o=s("XuX8"),a=s.n(o),r=s("L2JU");a.a.use(r.a);var i=new r.a.Store({state:{error:{status:0,message:null},ban_type:{signature:{status:!1,time:null},activity:{status:!1,time:null},operating:{status:!1,time:null},chat:{status:!1,time:null}},profile:null,cool_down:null,teetee_info:null,IsCreated:!1,head_title:""},mutations:{cool_down:function(e,t){if(e.cool_down[t]){var s=new Date(e.cool_down[t]).getTime()?new Date(e.cool_down[t]).getTime():new Date((r=e.cool_down[t],i=r.split(/[- :]/),new Date(parseInt(i[0]),parseInt(i[1])-1,parseInt(i[2]),parseInt(i[3]),parseInt(i[4]),parseInt(i[5])))).getTime();if(s>Date.now()){var o=Math.ceil((s-Date.now())/1e3);e.ban_type[t].status=!0,e.ban_type[t].time=o;var a=setInterval((function(){o=Math.ceil((s-Date.now())/1e3),e.ban_type[t].time=o,o<1&&(e.ban_type[t].status=!1,e.ban_type[t].time=null,clearInterval(a))}),1e3)}}var r,i},show_error:function(e,t){e.error.status=!0,e.error.message=t,setTimeout((function(){e.error.status=0,e.error.message=null}),3e3)},load_my_profile:function(e,t){e.IsCreated=t.status,t.status&&(e.cool_down=t.cool_down,e.profile=t.profile,e.teetee_info=t.teetee_info)}},getters:{disabled_class:function(){return function(e){return e?"is-invalid":"is-valid"}},NumberFormat:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";switch(t){case"zh-TW":return new Intl.NumberFormat(t,{notation:"compact",compactDisplay:"long"}).format(e);default:return(new Intl.NumberFormat).format(e)}}}},actions:{load_my_profile:function(e){var t=e.commit;return new Promise((function(e,s){window.axios.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.token),axios.get(a.a.prototype.api_prefix.concat("my-profile")).then((function(s){t("load_my_profile",s),e()})).catch((function(){s()}))}))}}});t.a=i},v9aq:function(e,t,s){"use strict";var o;s.d(t,"a",(function(){return i}));var a,r,i=s("nFaw").a.div(o||(a=["\n    color: #9A0000;\n    font-size:20px;\n"],r||(r=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(r)}}))))}},[[1,1,0]]]);