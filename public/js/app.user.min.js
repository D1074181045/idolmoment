(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/EOa":function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".progress[data-v-54f9c008]{position:fixed;top:0;left:0;right:0;height:2px;width:0;transition:width .4s,opacity .4s;opacity:1;background-color:#efc14e;z-index:999999}",""])},1:function(t,e,s){t.exports=s("8qau")},"2Sd7":function(t,e,s){"use strict";var a=s("L2JU"),o={props:["click_event","show","id_name"],computed:Object(a.c)(["pw_toggle"])},r=(s("MmSR"),s("KHd+")),n=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"show-hide-toggle-button"},[e("input",{attrs:{type:"checkbox",id:this.id_name},on:{click:this.click_event}}),this._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:this.id_name,title:this.pw_toggle(this.show).title}},[this._v("Toggle")])])}),[],!1,null,"70bbee5d",null);e.a=n.exports},"3Idz":function(t,e,s){var a=s("c2PZ");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,o);a.locals&&(t.exports=a.locals)},"8qau":function(t,e,s){"use strict";s.r(e);var a=s("XuX8"),o=s.n(a),r=s("Jc6O"),n=s("jE9Z"),i=s("fgE3"),c=s("JzxJ"),l=s("2Sd7"),d=s("L2JU");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){m(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function m(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var f={data:function(){return{username:"",password:"",autologin:!1,password_show:!1,username_disabled:!0,password_disabled:!0,login_disabled:!0,logging:!1}},components:{CardFooter:i.a,LightSwitch:c.a,PasswordToggleButton:l.a},computed:p(p({},Object(d.e)(["api_prefix"])),Object(d.c)(["pw_toggle","disabled_class"])),methods:p(p({},Object(d.d)(["show_error"])),{},{password_toggle_button:function(t){this.password_show=t.target.checked},ban_login:function(){this.username_disabled=this.username.length<=0,this.password_disabled=this.password.length<=0,this.login_disabled=this.username_disabled||this.password_disabled},to_register:function(){this.$router.push({name:"register"})},to_forgot_pwd:function(){this.$router.push({name:"forgot.password"})},login_click:function(){var t=this;if(!this.login_disabled){this.logging=this.login_disabled=!0;var e=this.api_prefix.concat("login");this.$refs.login.focus(),axios.get(e,{params:{username:this.username,password:this.password,autologin:this.autologin}}).then((function(t){t.status&&(localStorage.token=t.token,document.location.href="/")})).catch((function(e){if(422===e.status){var s="",a=e.data.errors;Object.keys(a).forEach((function(t){s+=a[t]+"\n"})),t.show_error(s)}else t.show_error(e.data.message);t.password="",t.autologin=t.logging=!1,t.ban_login()}))}}})},_=s("KHd+"),h=Object(_.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login_click(e)}}},[s("div",{staticClass:"card-header"},[t._v("\n        Login\n        "),s("LightSwitch")],1),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("使用者名稱")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:t.disabled_class(t.username_disabled),attrs:{type:"text",autocomplete:"off",autofocus:"",maxlength:"15"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.ban_login]}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("使用者密碼")]),t._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{required:"",autocomplete:"off",maxlength:"32",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{input:t.ban_login,change:function(e){var s=t.password,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.password=s.concat([null])):r>-1&&(t.password=s.slice(0,r).concat(s.slice(r+1)))}else t.password=o}}}):"radio"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{required:"",autocomplete:"off",maxlength:"32",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{input:t.ban_login,change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{required:"",autocomplete:"off",maxlength:"32",type:t.pw_toggle(t.password_show).type},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.ban_login]}})]),t._v(" "),s("PasswordToggleButton",{attrs:{click_event:t.password_toggle_button,show:t.password_show,id_name:"password_toggle_button"}})],1),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-6 offset-md-4"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.autologin,expression:"autologin"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.autologin)?t._i(t.autologin,null)>-1:t.autologin},on:{change:function(e){var s=t.autologin,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.autologin=s.concat([null])):r>-1&&(t.autologin=s.slice(0,r).concat(s.slice(r+1)))}else t.autologin=o}}}),t._v(" "),s("label",{staticClass:"form-check-label"},[t._v("自動登入")])])])]),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{ref:"login",staticClass:"btn btn-primary",class:{"btn-loading":t.logging},attrs:{type:"button",disabled:"",disabled:t.login_disabled},on:{click:t.login_click}},[t._v("登入\n                ")]),t._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.to_register}},[t._v("前往註冊")]),t._v(" "),s("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:t.to_forgot_pwd}},[t._v("忘記密碼")])])])]),t._v(" "),s("CardFooter",{attrs:{type:"alert-danger"}})],1)}),[],!1,null,null,null).exports;function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function w(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(Object(s),!0).forEach((function(e){b(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function b(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v={data:function(){return{username:"",password:"",password_confirmation:"",password_show:!1,username_disabled:!0,password_disabled:!0,register_disabled:!0,registering:!1}},components:{CardFooter:i.a,LightSwitch:c.a,PasswordToggleButton:l.a},computed:w(w({},Object(d.e)(["api_prefix"])),Object(d.c)(["between","pw_toggle","disabled_class"])),methods:w(w({},Object(d.d)(["show_error"])),{},{password_toggle_button:function(t){this.password_show=t.target.checked},ban_register:function(){this.username_disabled=!this.between(this.username.length,5,15),this.password_disabled=this.password!==this.password_confirmation||!this.between(this.password.length,8,32),this.register_disabled=this.username_disabled||this.password_disabled},back:function(){this.$router.push({name:"login"})},register_click:function(){var t=this;if(!this.register_disabled){this.registering=this.register_disabled=!0;var e=this.api_prefix.concat("register");this.$refs.register.focus(),axios.post(e,{username:this.username,password:this.password,password_confirmation:this.password_confirmation}).then((function(e){e.status&&t.$router.push({name:"login"})})).catch((function(e){if(422===e.status){var s="",a=e.data.errors;Object.keys(a).forEach((function(t){s+=a[t]+"\n"})),t.show_error(s)}else t.show_error(e.data.message);t.username=t.password=t.password_confirmation="",t.registering=!1,t.ban_register()}))}}})},y=Object(_.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register_click(e)}}},[s("div",{staticClass:"card-header"},[t._v("\n        Register\n        "),s("LightSwitch")],1),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("使用者名稱")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:t.disabled_class(t.username_disabled),attrs:{type:"text",autocomplete:"off",required:"",autofocus:"",maxlength:"15"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.ban_register]}}),t._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("請介於5到15字元之間")])])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("密碼")]),t._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{input:t.ban_register,change:function(e){var s=t.password,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.password=s.concat([null])):r>-1&&(t.password=s.slice(0,r).concat(s.slice(r+1)))}else t.password=o}}}):"radio"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{input:t.ban_register,change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:t.pw_toggle(t.password_show).type},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.ban_register]}}),t._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("請介於8到32字元之間")])])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("確認密碼")]),t._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"checkbox"},domProps:{checked:Array.isArray(t.password_confirmation)?t._i(t.password_confirmation,null)>-1:t.password_confirmation},on:{input:t.ban_register,change:function(e){var s=t.password_confirmation,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.password_confirmation=s.concat([null])):r>-1&&(t.password_confirmation=s.slice(0,r).concat(s.slice(r+1)))}else t.password_confirmation=o}}}):"radio"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"radio"},domProps:{checked:t._q(t.password_confirmation,null)},on:{input:t.ban_register,change:function(e){t.password_confirmation=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:t.pw_toggle(t.password_show).type},domProps:{value:t.password_confirmation},on:{input:[function(e){e.target.composing||(t.password_confirmation=e.target.value)},t.ban_register]}})]),t._v(" "),s("PasswordToggleButton",{attrs:{click_event:t.password_toggle_button,show:t.password_show,id_name:"password_toggle_button"}})],1),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{ref:"register",staticClass:"btn btn-primary",class:{"btn-loading":t.registering},attrs:{id:"register",name:"register",type:"button",disabled:"",disabled:t.register_disabled},on:{click:t.register_click}},[t._v("註冊\n                ")]),t._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.back}},[t._v("返回")])])])]),t._v(" "),s("CardFooter",{attrs:{type:"alert-danger"}})],1)}),[],!1,null,null,null).exports;function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(Object(s),!0).forEach((function(e){x(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function x(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var C=new RegExp("^\\w{1,255}@[a-zA-Z0-9]{2,63}\\.[a-zA-Z]{2,63}(\\.[a-zA-Z]{2,63})*$"),j={data:function(){return{email:"",send_btn_name:"寄送密碼重設",illegal:!0,send_disable:!0,check:!1,sending:!1,alert_status:!1}},components:{CardFooter:i.a,LightSwitch:c.a},computed:O(O({},Object(d.e)(["api_prefix"])),Object(d.c)(["disabled_class"])),methods:O(O({},Object(d.d)(["show_error"])),{},{alert_type:function(t){return t?"alert-success":"alert-danger"},check_email:function(){this.illegal=!C.test(this.email),this.check||(this.send_disable=this.illegal)},back:function(){this.$router.push({name:"login"})},cd:function(t){var e=this,s=t;this.sending=!1,this.send_btn_name="再次寄送密碼重設還需 "+(s--).toString()+" 秒";var a=setInterval((function(){e.send_btn_name="再次寄送密碼重設還需 "+(s--).toString()+" 秒",-1===s&&(e.send_btn_name="再次寄送密碼重設",e.send_disable=e.check=!1,e.check_email(),clearInterval(a))}),1e3)},send_reset_password:function(){var t=this;if(!this.send_disable){var e=this.api_prefix.concat("password/email");this.send_disable=this.sending=this.check=!0,axios.post(e,{email:this.email}).then((function(e){t.alert_status=!0,t.show_error(e.message),t.cd(30)})).catch((function(e){if(422===e.status){var s="",a=e.data.errors;Object.keys(a).forEach((function(t){s+=a[t]+"\n"})),t.show_error(s)}else t.show_error(e.data.message);t.alert_status=t.send_disable=t.sending=!1}))}}})},P=Object(_.a)(j,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send_reset_password(e)}}},[s("div",{staticClass:"card-header"},[t._v("\n        忘記密碼\n        "),s("LightSwitch")],1),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("電子郵件")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:t.disabled_class(t.illegal),attrs:{type:"text",autocomplete:"off",autofocus:""},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},t.check_email]}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-6 offset-md-4"},[s("button",{staticClass:"btn btn-primary",class:{"btn-loading":t.sending},staticStyle:{margin:"0 0"},attrs:{type:"button",disabled:t.send_disable},on:{click:t.send_reset_password}},[t._v(t._s(t.send_btn_name)+"\n                ")]),t._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.back}},[t._v("返回")])])])]),t._v(" "),s("CardFooter",{attrs:{type:t.alert_type(t.alert_status)}})],1)}),[],!1,null,null,null).exports;function S(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function E(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?S(Object(s),!0).forEach((function(e){A(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function A(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var q={data:function(){return{token:null,email:"",password:"",password_confirmation:"",password_show:!1,password_disabled:!0,send_reset_pwd_disabled:!0,sending:!1}},components:{CardFooter:i.a,LightSwitch:c.a,PasswordToggleButton:l.a},computed:E(E({},Object(d.e)(["api_prefix"])),Object(d.c)(["between","pw_toggle","disabled_class"])),mounted:function(){var t=this.$route;this.email=t.query.email,this.token=t.params.token},methods:E(E({},Object(d.d)(["show_error"])),{},{back:function(){this.$router.push({name:"login"})},password_toggle_button:function(t){this.password_show=t.target.checked},ban:function(){this.password_disabled=this.password!==this.password_confirmation||!this.between(this.password.length,8,32),this.send_reset_pwd_disabled=this.password_disabled},reset_password:function(){var t=this;if(!this.send_reset_pwd_disabled){var e=this.api_prefix.concat("password/reset");this.send_reset_pwd_disabled=this.sending=!0,axios.post(e,{token:this.token,email:this.email,password:this.password,password_confirmation:this.password_confirmation}).then((function(){t.$router.push({name:"login"})})).catch((function(e){if(422===e.status){var s="",a=e.data.errors;Object.keys(a).forEach((function(t){s+=a[t]+"\n"})),t.show_error(s)}else t.show_error(e.data.message);t.send_reset_pwd_disabled=!1})).finally((function(){t.sending=!1}))}}})},D=Object(_.a)(q,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reset_password(e)}}},[s("div",{staticClass:"card-header"},[t._v("\n        重設密碼\n        "),s("LightSwitch")],1),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("電子郵件")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{staticClass:"form-control",attrs:{type:"text",autocomplete:"off",required:"",autofocus:"",disabled:""},domProps:{value:t.email}})])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("密碼")]),t._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{input:t.ban,change:function(e){var s=t.password,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.password=s.concat([null])):r>-1&&(t.password=s.slice(0,r).concat(s.slice(r+1)))}else t.password=o}}}):"radio"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{input:t.ban,change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:t.pw_toggle(t.password_show).type},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.ban]}}),t._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("請介於8到32字元之間")])])]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right"},[t._v("確認密碼")]),t._v(" "),s("div",{staticClass:"col-md-6"},["checkbox"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"checkbox"},domProps:{checked:Array.isArray(t.password_confirmation)?t._i(t.password_confirmation,null)>-1:t.password_confirmation},on:{input:t.ban,change:function(e){var s=t.password_confirmation,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&(t.password_confirmation=s.concat([null])):r>-1&&(t.password_confirmation=s.slice(0,r).concat(s.slice(r+1)))}else t.password_confirmation=o}}}):"radio"===t.pw_toggle(t.password_show).type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:"radio"},domProps:{checked:t._q(t.password_confirmation,null)},on:{input:t.ban,change:function(e){t.password_confirmation=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.password_disabled),attrs:{type:"password",autocomplete:"off",required:"",maxlength:"32",type:t.pw_toggle(t.password_show).type},domProps:{value:t.password_confirmation},on:{input:[function(e){e.target.composing||(t.password_confirmation=e.target.value)},t.ban]}})]),t._v(" "),s("PasswordToggleButton",{attrs:{click_event:t.password_toggle_button,show:t.password_show,id_name:"password_toggle_button"}})],1),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"btn btn-primary",class:{"btn-loading":t.sending},attrs:{type:"button",disabled:"",disabled:t.send_reset_pwd_disabled},on:{click:t.reset_password}},[t._v("重設密碼\n                ")]),t._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.back}},[t._v("返回")])])])]),t._v(" "),s("CardFooter",{attrs:{type:"alert-danger"}})],1)}),[],!1,null,null,null).exports;var z={data:function(){return{success:!1,status:!1,message:null}},components:{LightSwitch:c.a},beforeRouteEnter:function(t,e,s){var a,o="/api/email/verify/".concat(t.params.id,"/").concat(t.params.hash,"?").concat((a=t.query,Object.keys(a).map((function(t){return"".concat(t,"=").concat(a[t])})).join("&")));axios.post(o).then((function(t){s((function(e){e.success=!0,e.status=t.status,e.message=t.message}))})).catch((function(t){s((function(e){e.success=!1,e.status=t.data.status,e.message=t.data.message}))}))},methods:{status_href:function(t){return t?"/":"/email/send"},status_str:function(t){return t?"返回首頁":"返回郵件驗證"},alert_class:function(t){return t?"alert-success":"alert-danger"}}},N=Object(_.a)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n        郵件驗證結果\n        "),s("LightSwitch")],1),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 m-auto",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"alert",class:t.alert_class(t.success)},[t._v("\n                    "+t._s(t.message)+"\n                ")]),t._v(" "),s("a",{staticClass:"btn btn-primary btn-block",attrs:{href:t.status_href(t.status)}},[t._v("\n                    "+t._s(t.status_str(t.status))+"\n                ")])])])])])}),[],!1,null,null,null).exports;o.a.use(n.a);var I=[{path:"/login",component:h,name:"login",meta:{title:"登入"}},{path:"/register",component:y,name:"register",meta:{title:"註冊"}},{path:"/password/reset",component:P,name:"forgot.password",meta:{title:"忘記密碼"}},{path:"/password/reset/:token",component:D,name:"reset.password",meta:{title:"重設密碼"}},{path:"/email/verify/:id/:hash",component:N,name:"verification.verify",meta:{title:"郵件驗證"}}],$=new n.a({mode:"history",linkActiveClass:"active",routes:I}),T=s("fa2K");try{s("ohdr"),s("Q8j+"),$.beforeEach((function(t,e,s){$.app.$nextTick((function(){$.app.$refs.loading.start()})),document.title=t.meta.title,r.a.commit("error_clear"),s()})),$.afterEach((function(t,e,s){$.app.$nextTick((function(){$.app.$refs.loading.finish(!0)}))})),new o.a({el:"#app",components:{loading:T.a},store:r.a,router:$})}catch(t){}},Jc6O:function(t,e,s){"use strict";var a=s("XuX8"),o=s.n(a),r=s("L2JU");o.a.use(r.a);var n=null,i=new r.a.Store({state:{error:{status:0,message:null},ban_type:{signature:{status:!1,time:null},activity:{status:!1,time:null},cooperation:{status:!1,time:null},operating:{status:!1,time:null},chat:{status:!1,time:null}},like_num:null,dislike_num:null,email:null,email_verify:null,profile:null,cool_down:null,teetee_info:null,personal_profile_status:!1,api_prefix:"/api/",prompt_count:0,loading:null},mutations:{error_clear:function(t){t.error.status=0,t.error.message=null},show_error:function(t,e){t.error.status=!0,t.error.message=e,n&&clearTimeout(n),n=setTimeout((function(){i.commit("error_clear")}),3e3)},load_my_profile:function(t,e){t.personal_profile_status=e.status,e.status&&(t.like_num=e.like_num,t.dislike_num=e.dislike_num,t.email=e.email,t.email_verify=e.email_verify,t.cool_down=e.cool_down,t.profile=e.profile,t.teetee_info=e.teetee_info)}},getters:{characters_img_path:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpg";return"https://f000.backblazeb2.com/file/idolmoment/characters/".concat(t).concat(".",e)}},disabled_class:function(){return function(t){return t?"is-invalid":"is-valid"}},pw_toggle:function(){return function(t){return t?{title:"顯示密碼",type:"text"}:{title:"隱藏密碼",type:"password"}}},NumberFormat:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";if(null==t)return null;switch(e){case"zh-TW":return new Intl.NumberFormat(e,{notation:"compact",compactDisplay:"long"}).format(t);default:return(new Intl.NumberFormat).format(t)}}},between:function(){return function(t,e,s){return t>=e&&t<=s}}},actions:{load_my_profile:function(t){var e=t.commit,s=t.state,a=this.state.api_prefix.concat("my-profile");return new Promise((function(t,o){axios.get(a).then((function(s){e("load_my_profile",s),t()})).catch((function(){s.personal_profile_status=!1,o()}))}))},cool_down_rec:function(t,e){var s=t.state;return new Promise((function(t){var a,o,r=e.name;if(e.time&&(s.cool_down[r]=e.time),s.cool_down[r]){var n=new Date(s.cool_down[r]).getTime();if(n||(n=new Date((a=s.cool_down[r],o=a.split(/[- :]/),new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2]),parseInt(o[3]),parseInt(o[4]),parseInt(o[5])))).getTime()),n>Date.now()){var i=Math.ceil((n-Date.now())/1e3);s.ban_type[r].status=!0,s.ban_type[r].time=i;var c=setInterval((function(){i=Math.ceil((n-Date.now())/1e3),s.ban_type[r].time=i,i<1&&(s.ban_type[r].status=!1,s.ban_type[r].time=null,clearInterval(c),t())}),1e3)}else t()}else t()}))}}});e.a=i},JzxJ:function(t,e,s){"use strict";var a={data:function(){return{dark_theme:this.String2Bool(localStorage.dark_theme)}},mounted:function(){this.switch_theme()},methods:{String2Bool:function(t){return"true"===t},switch_theme:function(){var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("body")[0];if(t.length){var s=t[t.length-1];s.href.includes("sweetalert2")&&(s.href="/css/sweetalert2.".concat(this.dark_theme?"dark":"default").concat(".theme.css"))}e.className=this.dark_theme?"dark":""},lightSwitch:function(t){localStorage.dark_theme=this.dark_theme=t.target.checked,this.switch_theme()}}},o=s("KHd+"),r=Object(o.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dark-swift-button"},[e("input",{staticClass:"swift-btn_toggle",attrs:{type:"checkbox",id:"lightSwitch"},domProps:{checked:this.dark_theme},on:{click:this.lightSwitch}}),this._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"lightSwitch"}},[this._v("Toggle")])])}),[],!1,null,null,null);e.a=r.exports},MmSR:function(t,e,s){"use strict";s("3Idz")},"Q8j+":function(t,e,s){"use strict";s.r(e);var a=s("vDqi"),o=s.n(a);window.axios=o.a.create(),window.axios.interceptors.response.use((function(t){var e=t.headers.authorization;return e&&(localStorage.token=e.substr(7),window.axios.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.token)),t.data}),(function(t){switch(t.response.status){case 401:document.location.href="/logout",localStorage.removeItem("token")}return Promise.reject(t.response)}))},c2PZ:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".show-hide-toggle-button[data-v-70bbee5d]{margin-top:.7rem}.show-hide-toggle-button>input[type=checkbox][data-v-70bbee5d]{display:none}.show-hide-toggle-button>label[data-v-70bbee5d]{width:1.2rem;height:1rem;text-indent:-9999px;-webkit-background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/hide-v0.0.1.svg);background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/hide-v0.0.1.svg);background-repeat:no-repeat;background-size:18px 18px;transition:all .2s ease 0s;cursor:pointer}.show-hide-toggle-button>input:checked+label[data-v-70bbee5d]{-webkit-background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/show-v0.0.1.svg);background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/show-v0.0.1.svg)}",""])},fa2K:function(t,e,s){"use strict";var a={data:function(){return{percent:0,show:!1,duration:3e3,status:null}},methods:{start:function(){var t=this;this._timer&&clearInterval(this._timer),this._timeout1&&clearInterval(this._timeout1),this._timeout2&&clearInterval(this._timeout2),this.show=!0,this.status=null,this.percent=0,this._cut=1e4/Math.floor(this.duration),this._timer=setInterval((function(){t.percent>95?t.decrease(t._cut*Math.random()):t.increase(t._cut*Math.random())}),100)},status_color:function(){return null===this.status?"#ffe277":this.status?"#77ebff":"#f65353"},increase:function(t){this.percent=this.percent+Math.floor(t)},decrease:function(t){this.percent=this.percent-Math.floor(t)},finish:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.status=t,this.percent=100,this.hide()},hide:function(){var t=this;clearInterval(this._timer),this._timer=null,this._timeout1=setTimeout((function(){t.show=!1,t._timeout2=setTimeout((function(){t.percent=0}),200)}),500)}}},o=(s("nCCP"),s("KHd+")),r=Object(o.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",staticStyle:{height:"2px","background-color":"#ffe277"},style:{width:this.percent+"%",opacity:this.show?1:0,"background-color":this.status_color()}})}),[],!1,null,"54f9c008",null);e.a=r.exports},fgE3:function(t,e,s){"use strict";var a=s("v9aq"),o=s("L2JU");function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i={props:["type"],computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(o.e)(["error"])),components:{msg:a.a}},c=s("KHd+"),l=Object(c.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return this.error.status?e("div",{staticClass:"card-footer",class:this.type},[e("msg",{staticStyle:{"text-align":"center"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}}),this._v(" "),e("path",{attrs:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"}})]),this._v("\n        "+this._s(this.error.message)+"\n    ")])],1):this._e()}),[],!1,null,null,null);e.a=l.exports},mJnf:function(t,e,s){var a=s("/EOa");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,o);a.locals&&(t.exports=a.locals)},nCCP:function(t,e,s){"use strict";s("mJnf")},ohdr:function(t,e,s){try{s("SYky")}catch(t){}},v9aq:function(t,e,s){"use strict";var a;s.d(e,"a",(function(){return n}));var o,r,n=s("nFaw").a.div(a||(o=["\n    color: #9A0000;\n"],r||(r=o.slice(0)),a=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}}))))}},[[1,0,1]]]);