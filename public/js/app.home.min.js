(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,a){a("PZLa"),t.exports=a("pyCd")},"0VkG":function(t,e,a){"use strict";a("4Jt5")},"1j7I":function(t,e,a){"use strict";a("UDhH")},"2Sd7":function(t,e,a){"use strict";var i=a("L2JU"),s={props:["click_event","show","id_name"],computed:Object(i.c)(["pw_toggle"])},n=(a("MmSR"),a("KHd+")),o=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"show-hide-toggle-button"},[e("input",{attrs:{type:"checkbox",id:this.id_name},on:{click:this.click_event}}),this._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:this.id_name,title:this.pw_toggle(this.show).title}},[this._v("Toggle")])])}),[],!1,null,"70bbee5d",null);e.a=o.exports},"3Idz":function(t,e,a){var i=a("c2PZ");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"3oE6":function(t,e,a){var i=a("k0f2");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"4Jt5":function(t,e,a){var i=a("ZH4u");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"5QCU":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"button.like[data-v-68714461]{background:none;border:none;display:block;width:19px;outline:none;margin:0 8px;padding:unset}a[data-v-68714461],button.like[data-v-68714461]{cursor:pointer}a[data-v-68714461]{display:flex;align-items:center;color:#909090!important}",""])},AdCZ:function(t,e,a){"use strict";a("yIm2")},CDNQ:function(t,e,a){"use strict";a("3oE6")},CnAM:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"button.btn.btn-bottom[data-v-4c7a2ef2]{margin-bottom:12px;margin-right:3px}",""])},DgIo:function(t,e,a){var i=a("vSrR");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},HbAp:function(t,e,a){"use strict";a("Ilz/")},"IE/5":function(t,e,a){"use strict";a("DgIo")},"Ilz/":function(t,e,a){var i=a("cUE7");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},Jc6O:function(t,e,a){"use strict";var i=a("XuX8"),s=a.n(i),n=a("L2JU");s.a.use(n.a);var o=null,r=new n.a.Store({state:{error:{status:0,message:null},ban_type:{signature:{status:!1,time:null},activity:{status:!1,time:null},cooperation:{status:!1,time:null},operating:{status:!1,time:null},chat:{status:!1,time:null}},like_num:null,dislike_num:null,profile:null,cool_down:null,teetee_info:null,IsCreated:!1,api_prefix:"/api/",prompt_count:0,loading:null},mutations:{error_clear:function(t){t.error.status=0,t.error.message=null},cool_down:function(t,e){if(t.cool_down[e]){var a=new Date(t.cool_down[e]).getTime()?new Date(t.cool_down[e]).getTime():new Date((n=t.cool_down[e],o=n.split(/[- :]/),new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2]),parseInt(o[3]),parseInt(o[4]),parseInt(o[5])))).getTime();if(a>Date.now()){var i=Math.ceil((a-Date.now())/1e3);t.ban_type[e].status=!0,t.ban_type[e].time=i;var s=setInterval((function(){i=Math.ceil((a-Date.now())/1e3),t.ban_type[e].time=i,i<1&&(t.ban_type[e].status=!1,t.ban_type[e].time=null,clearInterval(s))}),1e3)}}var n,o},show_error:function(t,e){t.error.status=!0,t.error.message=e,o&&clearTimeout(o),o=setTimeout((function(){r.commit("error_clear")}),3e3)},load_my_profile:function(t,e){t.IsCreated=e.status,e.status&&(t.like_num=e.like_num,t.dislike_num=e.dislike_num,t.cool_down=e.cool_down,t.profile=e.profile,t.teetee_info=e.teetee_info)}},getters:{characters_img_path:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpg";return"https://f000.backblazeb2.com/file/idolmoment/characters/".concat(t).concat(".",e)}},disabled_class:function(){return function(t){return t?"is-invalid":"is-valid"}},pw_toggle:function(){return function(t){return t?{title:"顯示密碼",type:"text"}:{title:"隱藏密碼",type:"password"}}},NumberFormat:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";if(null==t)return null;switch(e){case"zh-TW":return new Intl.NumberFormat(e,{notation:"compact",compactDisplay:"long"}).format(t);default:return(new Intl.NumberFormat).format(t)}}},between:function(){return function(t,e,a){return t>=e&&t<=a}}},actions:{load_my_profile:function(t){var e=t.commit,a=this.state.api_prefix.concat("my-profile");return new Promise((function(t,i){axios.get(a).then((function(a){e("load_my_profile",a),t()})).catch((function(){i()}))}))}}});e.a=r},JzxJ:function(t,e,a){"use strict";var i={data:function(){return{dark_theme:this.String2Bool(localStorage.dark_theme)}},mounted:function(){this.switch_theme()},methods:{String2Bool:function(t){return"true"===t},switch_theme:function(){var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("body")[0];if(t.length){var a=t[t.length-1];a.href.includes("sweetalert2")&&(a.href="/css/sweetalert2.".concat(this.dark_theme?"dark":"default").concat(".theme.css"))}e.className=this.dark_theme?"dark":""},lightSwitch:function(t){localStorage.dark_theme=this.dark_theme=t.target.checked,this.switch_theme()}}},s=a("KHd+"),n=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dark-swift-button"},[e("input",{staticClass:"swift-btn_toggle",attrs:{type:"checkbox",id:"lightSwitch"},domProps:{checked:this.dark_theme},on:{click:this.lightSwitch}}),this._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"lightSwitch"}},[this._v("Toggle")])])}),[],!1,null,null,null);e.a=n.exports},MmSR:function(t,e,a){"use strict";a("3Idz")},OE64:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"table tbody[data-v-8f312cec]{display:block;max-height:500px;overflow-y:scroll}table thead[data-v-8f312cec],tbody tr[data-v-8f312cec]{display:table;width:100%}table thead[data-v-8f312cec]{width:calc(100% - 1em)}@media screen and (max-width:600px){table thead[data-v-8f312cec]{width:100%}}",""])},PZLa:function(t,e,a){"use strict";a.r(e);var i=a("XuX8"),s=a.n(i),n=a("L2JU"),o=a("Jc6O"),r=a("jE9Z"),c=a("v9aq"),l={props:["class_name","img_file_name","img_name"],computed:Object(n.c)(["characters_img_path"]),methods:{img_error:function(t){t.target.parentNode.children[0].remove();var e=t.target.parentNode.children.length-1;t.target.parentNode.children[e].src=t.target.parentNode.children[0].srcset}}},_=(a("YdD5"),a("KHd+")),p=Object(_.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.img_file_name?a("div",{class:t.class_name},[a("picture",[a("source",{attrs:{type:"image/webp",srcset:t.characters_img_path(t.img_file_name,"webp")}}),t._v(" "),a("source",{attrs:{type:"image/jpeg",srcset:t.characters_img_path(t.img_file_name,"jpg")}}),t._v(" "),a("source",{attrs:{type:"image/png",srcset:t.characters_img_path(t.img_file_name,"png")}}),t._v(" "),a("img",{attrs:{src:t.characters_img_path(t.img_file_name,"jpg"),alt:t.img_name},on:{error:t.img_error}})])]):t._e()}),[],!1,null,"5cf3f5ed",null).exports;function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={props:["like_num","dislike_num","like_select","like_name","can_seed"],computed:u(u({},Object(n.e)(["api_prefix"])),Object(n.c)(["NumberFormat"])),methods:{cursor:function(t){return{cursor:!0===t?"pointer":"default"}},fill:function(t,e){switch(t){case"like":return{fill:"like"===e?"#1564ff !important":"#909090 !important"};case"dislike":return{fill:"dislike"===e?"#ff4242 !important":"#909090 !important"}}},color:function(t,e){switch(t){case"like":return{color:"like"===e?"#1564ff !important":"#909090 !important"};case"dislike":return{color:"dislike"===e?"#ff4242 !important":"#909090 !important"}}},click_like:function(t){var e=this;if(this.can_seed){var a=this.api_prefix.concat("like");this.like_select===t&&(t="removelike"),axios.post(a,{type:t,opposite_name:this.like_name}).then((function(t){e.$emit("like_event",{like_select:t.like_select,opposite_like_num:t.opposite_like_num,opposite_dislike_num:t.opposite_dislike_num})}))}}}},h=(a("UR+d"),Object(_.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",staticStyle:{display:"flex",height:"19px","flex-wrap":"nowrap","justify-content":"space-evenly"}},[a("a",{style:[t.color("like",t.like_select),t.cursor(t.can_seed)],on:{click:function(e){return t.click_like("like")}}},[a("button",{staticClass:"like",style:[t.fill("like",t.like_select),t.cursor(t.can_seed)]},[a("svg",{staticStyle:{display:"block",width:"19px",height:"19px"},attrs:{viewBox:"0 0 24 24"}},[a("g",[a("path",{attrs:{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"}})])])]),t._v("\n        "+t._s(t.NumberFormat(t.like_num,"zh-TW"))+"\n    ")]),t._v(" "),a("a",{staticStyle:{"margin-left":"-10px"},style:[t.color("dislike",t.like_select),t.cursor(t.can_seed)],on:{click:function(e){return t.click_like("dislike")}}},[a("button",{staticClass:"like",style:[t.fill("dislike",t.like_select),t.cursor(t.can_seed)]},[a("svg",{staticStyle:{display:"block",width:"19px",height:"19px"},attrs:{viewBox:"0 0 24 24"}},[a("g",[a("path",{attrs:{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}})])])]),t._v("\n        "+t._s(t.NumberFormat(t.dislike_num,"zh-TW"))+"\n    ")])])}),[],!1,null,"68714461",null).exports);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){g(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function g(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9 ]+$"),w={data:function(){return{class_signature_disabled:!1,teetee_updating:!1,signature:null,teetee:null,next_ability:{}}},components:{msg:c.a,Avatar:p,Like:h},computed:v(v(v({},Object(n.e)(["like_num","dislike_num","profile","teetee_info","cool_down","api_prefix","prompt_count"])),Object(n.e)({signature_disabled:function(t){return t.ban_type.signature.status},activity_disabled:function(t){return t.ban_type.activity.status},cooperation_disabled:function(t){return t.ban_type.cooperation.status},signature_ban:function(t){return t.ban_type.signature},activity_ban:function(t){return t.ban_type.activity},cooperation_ban:function(t){return t.ban_type.cooperation}})),Object(n.c)(["NumberFormat","disabled_class"])),beforeRouteLeave:function(t,e,a){var i=this;Object.keys(this.next_ability).forEach((function(t){i.next_ability[t]&&(i.profile[t]=i.next_ability[t])})),a()},watch:{prompt_count:function(){this.next_ability={}}},activated:function(){var t=this;this.next_ability={},this.signature=this.profile.signature,this.teetee=this.profile.teetee,this.first_load?(this.cool_down_func("activity"),this.cool_down_func("cooperation"),this.cool_down_func("signature")):this.load_my_profile().then((function(){t.signature=t.profile.signature,t.teetee=t.profile.teetee,t.cool_down_func("activity"),t.cool_down_func("cooperation"),t.cool_down_func("signature")}))},methods:v(v(v({},Object(n.d)({cool_down_func:"cool_down"})),Object(n.b)(["load_my_profile"])),{},{set_teetee:function(){var t=this;if(null===this.profile.teetee||!(this.profile.teetee.length>12||!this.profile.teetee.match(y)&&0!==this.profile.teetee.length)){var e=this.api_prefix.concat("update-teetee");this.teetee_updating=!0,axios.patch(e,{teetee:this.teetee}).then((function(e){e.status&&(t.profile.teetee=t.teetee,t.teetee_info.status=e.teetee_status,t.teetee_info.teetee_name=e.teetee_name)})).finally((function(){t.teetee_updating=!1}))}},set_signature:function(){var t=this;if(!this.signature_disabled){var e=this.api_prefix.concat("update-signature");this.signature_ban.status=!0,axios.patch(e,{signature:this.signature}).then((function(e){e.signature_time?(t.profile.signature=t.signature,t.cool_down.signature=e.signature_time,t.cool_down_func("signature")):t.signature_ban.status=!1})).catch((function(){t.signature_ban.status=!1}))}},ban_signature:function(){this.signature_ban.time||(this.signature_ban.status=this.class_signature_disabled=this.signature&&!this.signature.match(y)||this.signature.length>30)},do_activity:function(t){var e=this;if(!this.activity_disabled){var a=this.api_prefix.concat("activity");this.activity_ban.status=!0,axios.patch(a,{activity_type:t}).then((function(t){t.activity_time?(e.cool_down.activity=t.activity_time,e.cool_down_func("activity")):e.activity_ban.status=!1,t.status&&Object.keys(t.ability).forEach((function(a){e.profile[a]=e.next_ability[a]?e.next_ability[a]:e.profile[a],e.next_ability[a]=e.profile[a]!==t.ability[a]?t.ability[a]:null}))})).catch((function(t){e.activity_ban.status=!1}))}},do_cooperation:function(t){var e=this;if(!this.cooperation_disabled&&this.teetee_info.status){var a=this.api_prefix.concat("cooperation");this.cooperation_ban.status=!0,axios.patch(a,{cooperation_type:t}).then((function(t){t.cooperation_time?(e.cool_down.cooperation=t.cooperation_time,e.cool_down_func("cooperation")):e.cooperation_ban.status=!1,t.status&&Object.keys(t.ability).forEach((function(a){e.profile[a]=e.next_ability[a]?e.next_ability[a]:e.profile[a],e.next_ability[a]=e.profile[a]!==t.ability[a]?t.ability[a]:null}))})).catch((function(){e.cooperation_ban.status=!1}))}}})},x=(a("HbAp"),Object(_.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb"},[a("h3",[t._v("我的偶像")]),t._v(" "),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{staticClass:"table-active"},[t._v("暱稱")]),t._v(" "),a("td",[t._v(t._s(t.profile.nickname))]),t._v(" "),a("td",{staticStyle:{width:"80px"},attrs:{rowspan:"2"}},[a("Avatar",{attrs:{class_name:"img-big",img_file_name:t.profile.game_character.img_file_name,img_name:t.profile.game_character.tc_name}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("偶像")]),t._v(" "),a("td",[t._v(t._s(t.profile.game_character.tc_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("人氣")]),t._v(" "),a("td",[t._v(t._s(t.NumberFormat(t.profile.popularity))+"\n                    "),t.next_ability.popularity?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.popularity))+"\n                    ")]):t._e()]),t._v(" "),a("td",[a("Like",{attrs:{like_num:t.like_num,dislike_num:t.dislike_num,can_seed:!1}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("名聲")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.reputation))+"\n                    "),t.next_ability.reputation?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.reputation))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("最大生命值")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.max_vitality))+"\n                    "),t.next_ability.max_vitality?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.max_vitality))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("目前生命值")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.current_vitality))+"\n                    "),t.next_ability.current_vitality?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.current_vitality))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("精力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.energy))+"\n                    "),t.next_ability.energy?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.energy))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("抗壓性")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.resistance))+"\n                    "),t.next_ability.resistance?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.resistance))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("魅力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.charm))+"\n                    "),t.next_ability.charm?a("div",{staticStyle:{display:"inline"}},[t._v("\n                        → "+t._s(t.NumberFormat(t.next_ability.charm))+"\n                    ")]):t._e()])]),t._v(" "),a("tr",[a("th",{staticClass:"table-secondary"},[t._v("轉生次數")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.profile.rebirth_counter)))])])])])]),t._v(" "),a("div",{staticClass:"tb"},[a("h3",[t._v("個人設定")]),t._v(" "),t.signature_ban.time?a("msg",[t._v("剩餘時間："+t._s(t.signature_ban.time))]):t._e(),t._v(" "),a("div",{staticClass:"tb-gap"},[a("div",{staticClass:"setting"},[a("label",{staticStyle:{width:"80px","margin-bottom":"0"}},[t._v("簽名檔")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signature,expression:"signature"}],staticClass:"form-control",class:t.disabled_class(t.class_signature_disabled),attrs:{placeholder:"最多30個字",type:"text",maxlength:"30"},domProps:{value:t.signature},on:{input:[function(e){e.target.composing||(t.signature=e.target.value)},t.ban_signature]}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.signature_disabled},on:{click:t.set_signature}},[t._v("更新\n                ")])]),t._v(" "),a("div",{staticClass:"setting"},[a("label",{staticStyle:{width:"80px","margin-bottom":"0"}},[t._v("貼貼")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.teetee,expression:"teetee"}],staticClass:"form-control",class:t.disabled_class(!t.teetee_info.status),staticStyle:{transition:"all 0.2s ease 0s"},attrs:{type:"text",maxlength:"12"},domProps:{value:t.teetee},on:{input:function(e){e.target.composing||(t.teetee=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",class:{"btn-loading":t.teetee_updating},attrs:{type:"button"},on:{click:t.set_teetee}},[t._v("設定\n                ")])])])],1),t._v(" "),t.profile.graduate?a("div",{staticClass:"tb"},[a("h3",[t._v("已畢業，無法進行任何活動")]),t._v(" "),t._m(0)]):a("div",{staticClass:"tb"},[a("h3",[t._v("個人活動")]),t._v(" "),t.activity_ban.time?a("msg",[t._v("剩餘時間："+t._s(t.activity_ban.time))]):t._e(),t._v(" "),a("div",{staticClass:"tb-gap",staticStyle:{"margin-left":"-10px"}},[a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.activity_disabled},on:{click:function(e){return t.do_activity("adult-live")}}},[t._v("成人直播\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.activity_disabled},on:{click:function(e){return t.do_activity("live")}}},[t._v("直播\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.activity_disabled},on:{click:function(e){return t.do_activity("do-good-things")}}},[t._v("做善事\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.activity_disabled},on:{click:function(e){return t.do_activity("go-to-sleep")}}},[t._v("睡覺\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.activity_disabled},on:{click:function(e){return t.do_activity("meditation")}}},[t._v("打坐\n            ")])]),t._v(" "),a("h3",{staticStyle:{"padding-top":"15px","border-top":"1px solid var(--border-color)"}},[t._v("合作活動")]),t._v(" "),t.cooperation_ban.time?a("msg",[t._v("剩餘時間："+t._s(t.cooperation_ban.time))]):t._e(),t._v(" "),a("div",{staticClass:"tb-gap",staticStyle:{"margin-left":"-10px"}},[a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.cooperation_disabled||!t.teetee_info.status||t.teetee_info.teetee_graduate},on:{click:function(e){return t.do_cooperation("play-ordinary-game")}}},[t._v("玩普通遊戲\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.cooperation_disabled||!t.teetee_info.status||t.teetee_info.teetee_graduate},on:{click:function(e){return t.do_cooperation("play-tacit-game")}}},[t._v("玩默契遊戲\n            ")])])],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tb-gap",staticStyle:{"margin-left":"-10px"}},[a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[t._v("成人直播")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[t._v("直播")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[t._v("做善事")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[t._v("睡覺")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[t._v("打坐")])])}],!1,null,"9f822566",null).exports);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){O(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function O(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var j={data:function(){return{search_name:null,page_num:1,total_pages:1,max_popularity:1,current_popularity:this.$store.state.profile.popularity,idol_list:[],profile_path:"/profile/",first_page_disabled:!1,last_page_disabled:!1,up_page_disabled:!1,down_page_disabled:!1}},computed:C(C(C({},Object(n.e)(["teetee_info","api_prefix","profile","loading"])),Object(n.e)({name:function(t){return t.profile.name}})),Object(n.c)(["NumberFormat"])),components:{Avatar:p},activated:function(){this.reload()?(this.current_popularity=this.profile.popularity,this.page_num=1,this.default_load()):this.loading.finish(!0)},methods:{toProfile:function(t){this.$router.push({name:"profile",params:{name:t}})},check_page_num:function(t){return t>this.total_pages?this.page_num=this.total_pages:t<1?this.page_num=1:t},get_idol_list:function(t,e){var a=this;t=this.check_page_num(t);var i=this.api_prefix.concat("change-page");this.current_popularity=e,axios.get(i,{params:{page:t,popularity:e}}).then((function(t){t.status&&(a.total_pages=t.total_pages,a.max_popularity=t.max_popularity,a.idol_list=t.idol_list,a.down_page_disabled=a.page_num>=t.total_pages,a.last_page_disabled=a.page_num>=t.total_pages,a.page_num<=1?(a.up_page_disabled=!0,a.first_page_disabled=a.current_popularity>=t.max_popularity):(a.first_page_disabled=!1,a.up_page_disabled=!1))}))},to_search_name:function(){var t=this;if(this.search_name){var e=this.api_prefix.concat("change-page");axios.get(e,{params:{search_name:this.search_name}}).then((function(e){e.status&&(t.idol_list=e.idol_list)}))}},default_load:function(){this.get_idol_list(this.page_num,this.current_popularity)},switch_page:function(t,e){e<=0&&(e=this.current_popularity=1),t<=0&&(t=this.page_num=1),this.get_idol_list(t,e)},clear_search:function(){this.default_load(),this.search_name=null},idol_class:function(t){return{self:this.name===t.name,teetee:this.teetee_info.status&&this.teetee_info.teetee_name===t.name&&this.teetee_info.status,graduate:t.graduate}}}},S=(a("CDNQ"),Object(_.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tb"},[a("h3",[t._v("活躍偶像")]),t._v(" "),a("div",{staticClass:"form-group mb-0"},[a("div",{staticClass:"offset-0",staticStyle:{"margin-right":"0"}},[a("label",{staticClass:"col-md-2 col-form-label text-md-right",staticStyle:{"padding-top":"calc(.7rem + 1px)"},attrs:{for:"name"}},[t._v("搜尋暱稱")]),t._v(" "),a("div",{staticClass:"col-md-6 row",staticStyle:{display:"inline"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_name,expression:"search_name"}],staticClass:"form-control",staticStyle:{width:"200px",margin:"6px 2px",display:"inline"},attrs:{type:"text",id:"name",name:"name",autocomplete:"off"},domProps:{value:t.search_name},on:{input:function(e){e.target.composing||(t.search_name=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"-6px",height:"36px"},attrs:{id:"search-name",name:"search-name",type:"button"},on:{click:t.to_search_name}},[t._v("搜尋\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"-6px",height:"36px"},attrs:{id:"clear_search",name:"clear_search",type:"button"},on:{click:t.clear_search}},[t._v("清除搜尋\n                ")])])]),t._v(" "),a("div",{staticClass:"offset-0",staticStyle:{"margin-right":"0"}},[a("label",{staticClass:"col-md-2 col-form-label text-md-right",staticStyle:{"padding-top":"calc(.7rem + 1px)"},attrs:{for:"search-popularity"}},[t._v("人氣規模")]),t._v(" "),a("div",{staticClass:"col-md-6 row",staticStyle:{display:"inline"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popularity,expression:"current_popularity"}],staticClass:"form-control",staticStyle:{width:"100px",margin:"6px 2px",display:"inline"},attrs:{type:"number",id:"search-popularity",min:"1",name:"search-popularity"},domProps:{value:t.current_popularity},on:{change:function(e){return t.switch_page(t.page_num=1,t.current_popularity)},input:function(e){e.target.composing||(t.current_popularity=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"offset-0"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.first_page_disabled},on:{click:function(e){return t.switch_page(t.page_num=1,t.max_popularity)}}},[t._v("第一頁\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:"",disabled:t.up_page_disabled},on:{click:function(e){return t.switch_page(--t.page_num,t.current_popularity)}}},[t._v("上一頁\n            ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page_num,expression:"page_num"}],staticClass:"form-control",staticStyle:{width:"70px",margin:"6px 2px",display:"inline"},attrs:{type:"number",min:"1",max:t.total_pages,value:"1"},domProps:{value:t.page_num},on:{change:function(e){return t.switch_page(t.page_num,t.current_popularity)},input:function(e){e.target.composing||(t.page_num=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.down_page_disabled},on:{click:function(e){return t.switch_page(++t.page_num,t.current_popularity)}}},[t._v("下一頁\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.last_page_disabled},on:{click:function(e){return t.switch_page(t.page_num=t.total_pages,t.current_popularity)}}},[t._v("最後一頁\n            ")])])]),t._v(" "),a("table",{staticClass:"table table-hover",staticStyle:{"min-width":"560px","margin-top":"1rem"}},[t._m(0),t._v(" "),a("tbody",t._l(t.idol_list,(function(e){return a("tr",{key:e.name,class:t.idol_class(e),staticStyle:{cursor:"pointer"},on:{click:function(a){return t.toProfile(e.name)}}},[a("td",{staticStyle:{padding:"0"}},[a("Avatar",{attrs:{class_name:"img-small",img_file_name:e.img_file_name,img_name:e.use_character}})],1),t._v(" "),a("td",[t._v(t._s(t.NumberFormat(e.popularity,"zh-TW")))]),t._v(" "),a("td",[t._v(t._s(t.NumberFormat(e.reputation,"zh-TW")))]),t._v(" "),a("td",{staticStyle:{padding:"0",height:"50px",width:"50%"}},[a("div",{staticStyle:{height:"100%"}},[a("div",{staticStyle:{padding:"4px 8px"}},[t._v(t._s(e.nickname))]),t._v(" "),a("div",{staticStyle:{"border-top":"1px solid var(--border-color)",padding:"4px 8px"}},[t._v(t._s(e.signature))])])]),t._v(" "),a("td",[t._v(t._s(e.tc_name))])])})),0)]),t._v(" "),a("div",{staticClass:"form-group mb-0"},[a("div",{staticClass:"offset-0"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.first_page_disabled},on:{click:function(e){return t.switch_page(t.page_num=1,t.max_popularity)}}},[t._v("第一頁\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:"",disabled:t.up_page_disabled},on:{click:function(e){return t.switch_page(--t.page_num,t.current_popularity)}}},[t._v("上一頁\n            ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page_num,expression:"page_num"}],staticClass:"form-control",staticStyle:{width:"70px",margin:"6px 2px",display:"inline"},attrs:{type:"number",min:"1",max:t.total_pages,value:"1"},domProps:{value:t.page_num},on:{change:function(e){return t.switch_page(t.page_num,t.current_popularity)},input:function(e){e.target.composing||(t.page_num=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.total_pages<=1||t.down_page_disabled},on:{click:function(e){return t.switch_page(++t.page_num,t.current_popularity)}}},[t._v("下一頁\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:t.total_pages<=1||t.last_page_disabled},on:{click:function(e){return t.switch_page(t.page_num=t.total_pages,t.current_popularity)}}},[t._v("最後一頁\n            ")])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{staticStyle:{width:"60px"}},[t._v("頭像")]),t._v(" "),a("th",{staticStyle:{width:"60px"}},[t._v("人氣")]),t._v(" "),a("th",{staticStyle:{width:"60px"}},[t._v("名聲")]),t._v(" "),a("th",[t._v("暱稱")]),t._v(" "),a("th",[t._v("偶像")])])])}],!1,null,"afe97078",null).exports);function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){N(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function N(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var D={data:function(){return{information_list:[],next_name:null,opposite_like_num:0,opposite_dislike_num:0,like_select:null,opposite_profile:{game_character:{}},profile_type:localStorage.profile_type?localStorage.profile_type:"details",opposite_loaded:!1,title:null}},components:{msg:c.a,Avatar:p,Like:h},computed:E(E(E({},Object(n.e)(["api_prefix","cool_down","teetee_info"])),Object(n.e)({self_profile:"profile",operating_ban:function(t){return t.ban_type.operating},operating_disabled:function(t){return t.ban_type.operating.status}})),Object(n.c)(["NumberFormat"])),created:function(){switch(localStorage.profile_type){case"details":this.details();break;case"comparison":this.comparison();break;default:this.details()}},mounted:function(){this.cool_down_func("operating")},activated:function(){this.title&&(document.title=this.title),this.get_opposite_profile()},methods:E(E({},Object(n.d)({cool_down_func:"cool_down"})),{},{get_opposite_profile:function(){var t=this,e=this.api_prefix.concat("profile/",this.$route.params.name);return axios.get(e).then((function(e){e.status&&(t.title||(document.title=t.title="偶像資訊".concat("-",e.opposite_profile.nickname)),t.opposite_like_num=e.opposite_like_num,t.opposite_dislike_num=e.opposite_dislike_num,t.like_select=e.like_select,t.opposite_profile=e.opposite_profile,t.opposite_loaded=!0)}))},switch_show:function(){switch(this.get_profile_type()){case"details":this.details();break;case"comparison":this.comparison();break;default:this.details()}},get_profile_type:function(){switch(localStorage.profile_type){case"details":return"comparison";case"comparison":return"details";default:return"comparison"}},details:function(){this.next_name="查看能力比對",this.profile_type=localStorage.profile_type="details"},comparison:function(){this.next_name="顯示詳細資料",this.profile_type=localStorage.profile_type="comparison"},operating:function(t){var e=this;if(("send-blade"!==t&&"defame"!==t||this.teetee_info.teetee_name!==this.$route.params.name)&&!this.operating_ban.time){var a=this.api_prefix.concat("operating");this.operating_ban.status=!0,axios.patch(a,{opposite_name:this.$route.params.name,operating_type:t}).then((function(t){t.operating_time?(e.cool_down.operating=t.operating_time,e.cool_down_func("operating")):e.operating_ban.status=!1,t.status&&(Object.keys(t.ability.opposite).forEach((function(a){e.opposite_profile[a]=t.ability.opposite[a]})),Object.keys(t.ability.self).forEach((function(a){e.self_profile[a]=t.ability.self[a]})),e.information_list.push(t.information))})).catch((function(){e.operating_ban.status=!1}))}},like_event:function(t){this.opposite_like_num=t.opposite_like_num,this.opposite_dislike_num=t.opposite_dislike_num,this.like_select=t.like_select}})},F=(a("1j7I"),Object(_.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb"},[a("h3",[t._v("玩家資料")]),t._v(" "),a("div",{staticClass:"text-center",staticStyle:{margin:"12px 0 12px 0"}},[a("button",{staticClass:"btn btn-info",staticStyle:{width:"115px"},attrs:{type:"button"},on:{click:t.switch_show}},[t._v(t._s(t.next_name)+"\n            ")])]),t._v(" "),"details"===t.profile_type?a("div",{attrs:{id:"details"}},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{staticClass:"table-active"},[t._v("暱稱")]),t._v(" "),a("td",[t._v(t._s(t.opposite_profile.nickname))]),t._v(" "),a("td",{staticStyle:{width:"80px"},attrs:{rowspan:"2"}},[a("Avatar",{attrs:{class_name:"img-big",img_file_name:t.opposite_profile.game_character.img_file_name,img_name:t.opposite_profile.game_character.tc_name}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("偶像")]),t._v(" "),a("td",[t._v(t._s(t.opposite_profile.game_character.tc_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("人氣")]),t._v(" "),a("td",[t._v(t._s(t.NumberFormat(t.opposite_profile.popularity)))]),t._v(" "),a("td",[a("Like",{attrs:{like_num:t.opposite_like_num,dislike_num:t.opposite_dislike_num,like_select:t.like_select,like_name:t.opposite_profile.name,can_seed:!0},on:{like_event:t.like_event}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("名聲")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.reputation)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("最大生命值")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.max_vitality)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("精力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.energy)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("抗壓性")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.resistance)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-info"},[t._v("魅力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.charm)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-primary"},[t._v("簽名檔")]),t._v(" "),a("td",{staticStyle:{color:"#DC3545"},attrs:{colspan:"2"}},[t._v(t._s(t.opposite_profile.signature))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-secondary"},[t._v("轉生次數")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.rebirth_counter)))])])])])]):a("div",{staticStyle:{display:"flex"}},[a("table",{staticClass:"table",staticStyle:{width:"50%"}},[a("tbody",[t._m(0),t._v(" "),a("tr",[a("td",{staticStyle:{width:"80px"},attrs:{colspan:"2"}},[a("Avatar",{attrs:{class_name:"img-big",img_file_name:t.self_profile.game_character.img_file_name,img_name:t.self_profile.game_character.tc_name}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("暱稱")]),t._v(" "),a("td",[t._v(t._s(t.self_profile.nickname))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("偶像")]),t._v(" "),a("td",[t._v(t._s(t.self_profile.game_character.tc_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("人氣")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.popularity)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("名聲")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.reputation)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("最大生命值")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.max_vitality)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("精力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.energy)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("抗壓性")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.resistance)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("魅力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.self_profile.charm)))])])])]),t._v(" "),a("table",{staticClass:"table",staticStyle:{width:"50%"}},[a("tbody",[t._m(1),t._v(" "),a("tr",[a("td",{staticStyle:{width:"80px"},attrs:{colspan:"2"}},[a("Avatar",{attrs:{class_name:"img-big",img_file_name:t.opposite_profile.game_character.img_file_name,img_name:t.opposite_profile.game_character.tc_name}})],1)]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("暱稱")]),t._v(" "),a("td",[t._v(t._s(t.opposite_profile.nickname))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("偶像")]),t._v(" "),a("td",[t._v(t._s(t.opposite_profile.game_character.tc_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("人氣")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.popularity)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("名聲")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.reputation)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("最大生命值")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.max_vitality)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("精力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.energy)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("抗壓性")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.resistance)))])]),t._v(" "),a("tr",[a("th",{staticClass:"table-active"},[t._v("魅力")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.NumberFormat(t.opposite_profile.charm)))])])])])])]),t._v(" "),t.opposite_profile.name!==t.self_profile.name&&t.opposite_loaded?a("div",{staticClass:"tb"},[t.opposite_profile.graduate?a("h3",[t._v("對方已畢業")]):t.self_profile.graduate?a("h3",[t._v("你已畢業")]):a("h3",[t._v("操作")]),t._v(" "),t.opposite_profile.graduate||t.self_profile.graduate?a("div",[t._m(2)]):a("div",[t.operating_ban.time?a("msg",[t._v("\n                剩餘時間："+t._s(t.operating_ban.time)+"\n            ")]):t._e(),t._v(" "),a("div",{staticClass:"tb-gap",staticStyle:{"margin-left":"-10px"}},[a("button",{staticClass:"btn btn-bottom btn-danger",attrs:{type:"button",disabled:t.operating_disabled||t.teetee_info.teetee_name===t.$route.params.name},on:{click:function(e){return t.operating("send-blade")}}},[t._v("\n                    寄刀片 👎\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-danger",attrs:{type:"button",disabled:t.operating_disabled||t.teetee_info.teetee_name===t.$route.params.name},on:{click:function(e){return t.operating("defame")}}},[t._v("\n                    抹黑 👎\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.operating_disabled},on:{click:function(e){return t.operating("endorse")}}},[t._v("\n                    聲援 👍\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:t.operating_disabled},on:{click:function(e){return t.operating("donate")}}},[t._v("\n                    斗內 👍\n                ")])])],1)]):t._e(),t._v(" "),a("div",{staticClass:"tb"},[a("h3",[t._v("獲得情報")]),t._v(" "),t._l(t.information_list,(function(e,i){return a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{color:"rgb(153, 153, 153)","user-select":"none",width:"30px"}},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticStyle:{display:"flex"},domProps:{innerHTML:t._s(e)}})])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"table-active",staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[this._v("\n                        我的偶像\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticClass:"table-active",staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[this._v("\n                        對方偶像\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tb-gap",staticStyle:{"margin-left":"-10px"}},[e("button",{staticClass:"btn btn-bottom btn-danger",attrs:{type:"button",disabled:""}},[this._v("寄刀片 👎")]),this._v(" "),e("button",{staticClass:"btn btn-bottom btn-danger",attrs:{type:"button",disabled:""}},[this._v("抹黑 👎")]),this._v(" "),e("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[this._v("聲援 👍")]),this._v(" "),e("button",{staticClass:"btn btn-bottom btn-info",attrs:{type:"button",disabled:""}},[this._v("斗內 👍")])])}],!1,null,"4c7a2ef2",null).exports),I={data:function(){return{rebirth_disabled:!0,selected_character:"",own_character_list:[]}},computed:Object(n.e)(["api_prefix"]),components:{Avatar:p},activated:function(){this.get_own_character()},methods:{default_select:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.selected_character=this.own_character_list[t].character_name},character_select_status:function(t){return this.selected_character===t?"current-select":"not-select"},get_own_character:function(){var t=this,e=this.api_prefix.concat("own-character");return axios.get(e).then((function(e){e.status&&(t.own_character_list=e.own_character_list,t.default_select())}))},select_character:function(t){this.selected_character=t,this.rebirth_disabled=!1},to_rebirth:function(){var t=this;this.rebirth_disabled=!0;var e=this.api_prefix.concat("rebirth");axios.patch(e,{character_name:this.selected_character}).then((function(e){e.status?t.$router.push({name:"index"}):t.rebirth_disabled=!1})).catch((function(e){t.rebirth_disabled=!1}))}}},T=(a("0VkG"),Object(_.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tb"},[a("h3",[t._v("選擇轉生偶像")]),t._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.own_character_list,(function(e){return a("div",{staticClass:"character-frame"},[a("div",{class:t.character_select_status(e.character_name),on:{click:function(a){return t.select_character(e.character_name)}}},[a("Avatar",{attrs:{class_name:"img-big",img_file_name:e.game_character.img_file_name,img_name:e.character_name}}),t._v(" "),a("div",{staticStyle:{flex:"auto"}},[a("p",{staticStyle:{"margin-top":"1rem"}},[t._v("\n                            "+t._s(e.game_character.introduction)+"\n                        ")])]),t._v(" "),a("table",{staticClass:"table"},[a("tbody",{staticClass:"thead-light"},[a("tr",[a("th",{staticClass:"text-center"},[t._v("英文名稱")]),t._v(" "),a("td",[t._v(t._s(e.game_character.en_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"text-center"},[t._v("中文名稱")]),t._v(" "),a("td",[t._v(t._s(e.game_character.tc_name))])]),t._v(" "),a("tr",[a("th",{staticClass:"text-center"},[t._v("生命值")]),t._v(" "),a("td",[t._v(t._s(e.game_character.vitality))])]),t._v(" "),a("tr",[a("th",{staticClass:"text-center"},[t._v("精力")]),t._v(" "),a("td",[t._v(t._s(e.game_character.energy))])]),t._v(" "),a("tr",[a("th",{staticClass:"text-center"},[t._v("抗壓性")]),t._v(" "),a("td",[t._v(t._s(e.game_character.resistance))])]),t._v(" "),a("tr",[a("th",{staticClass:"text-center"},[t._v("魅力")]),t._v(" "),a("td",[t._v(t._s(e.game_character.charm))])])])])],1)])})),0)]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-block",staticStyle:{margin:"0 0"},attrs:{disabled:t.rebirth_disabled},on:{click:t.to_rebirth}},[t._v("轉生\n    ")])])}),[],!1,null,"05f65ca9",null).exports);function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(Object(a),!0).forEach((function(e){z(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B=!0,H=!1,L={data:function(){return{message:"",chat_messages:[]}},components:{msg:c.a},computed:$($({},Object(n.e)(["api_prefix","cool_down"])),Object(n.e)({chat_ban:function(t){return t.ban_type.chat},create_msg_disabled:function(t){return t.ban_type.chat.status}})),updated:function(){this.tbody_scroll_bottom()},mounted:function(){this.tbody_scroll_position()},activated:function(){this.cool_down_func("chat"),this.get_chats(),this.websocket_chat_event()},deactivated:function(){Echo.leave("public-chat-channel")},methods:$($({},Object(n.d)({cool_down_func:"cool_down"})),{},{tbody_scroll_bottom:function(){if(H){if(B){var t=document.getElementsByTagName("tbody")[0];t.scrollTop=t.scrollHeight}H=!1}},tbody_scroll_position:function(){var t=document.getElementsByTagName("tbody")[0];t.onscroll=function(){var e=t.scrollHeight-t.scrollTop;B=e<=t.offsetHeight}},get_chats:function(){var t=this,e=this.api_prefix.concat("get-chats");axios.get(e).then((function(e){e.status&&(t.chat_messages=e.chat_messages)})).then((function(){var t=document.getElementsByTagName("tbody")[0];t.scrollTop=t.scrollHeight}))},websocket_chat_event:function(){var t=this;Echo.channel("public-chat-channel").listen(".public-chat-event",(function(e){var a=e.name,i=e.nickname,s=e.message,n=e.chat_created_at;t.chat_messages.push({name:a,nickname:i,message:s,created_at:n}),t.chat_messages.length>100&&t.chat_messages.shift(),H=!0}))},create_message:function(){var t=this;if(!this.create_msg_disabled){var e=this.api_prefix.concat("create-message");this.chat_ban.status=!0,axios.post(e,{message:this.message}).then((function(e){e.chat_time?(t.cool_down.chat=e.chat_time,t.cool_down_func("chat")):t.chat_ban.status=!1})).catch((function(){t.chat_ban.status=!1})),this.message=""}},TimeStamp2DateTime:function(t){var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i.toString():i;var s=e.getDate();s=s<10?"0"+s.toString():s;var n=e.getHours();n=n<10?"0"+n.toString():n;var o=e.getMinutes();o=o<10?"0"+o.toString():o;var r=e.getSeconds();return a+"-"+i+"-"+s+" "+n+":"+o+":"+(r=r<10?"0"+r.toString():r)},create_enter:function(){var t=this;document.onkeydown=function(e){13===e.keyCode&&t.create_message()}}})},M=(a("AdCZ"),Object(_.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tb",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create_enter(e)}}},[a("h3",[t._v("聊天室")]),t._v(" "),a("table",{staticClass:"table table-hover",staticStyle:{"margin-top":"1rem"}},[t._m(0),t._v(" "),a("tbody",t._l(t.chat_messages,(function(e){return a("tr",[a("td",{staticStyle:{width:"150px"}},[a("router-link",{staticStyle:{"font-size":"12px"},attrs:{to:{name:"profile",params:{name:e.name}},exact:""}},[t._v("\n                    "+t._s(e.nickname)+"\n                ")])],1),t._v(" "),a("td",[t._v(t._s(e.message))]),t._v(" "),a("td",{staticStyle:{width:"160px"}},[t._v(t._s(t.TimeStamp2DateTime(e.created_at)))])])})),0)]),t._v(" "),t.chat_ban.time?a("msg",{staticStyle:{"margin-bottom":"10px"}},[t._v("剩餘時間："+t._s(t.chat_ban.time))]):t._e(),t._v(" "),a("div",{staticClass:"setting"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{width:"15%"},attrs:{type:"button",disabled:t.create_msg_disabled},on:{click:t.create_message}},[t._v("送出\n        ")])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{staticStyle:{width:"150px"}},[this._v("暱稱")]),this._v(" "),e("th",[this._v("訊息")]),this._v(" "),e("th",{staticStyle:{width:"160px"}},[this._v("時間")])])])}],!1,null,"8f312cec",null).exports),q=a("fgE3");function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function J(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(Object(a),!0).forEach((function(e){R(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function R(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var U={data:function(){return{nickname:"",build_disabled:!0,creating:!1}},components:{CardFooter:q.a},computed:J(J({},Object(n.e)(["error","api_prefix"])),Object(n.c)(["disabled_class"])),methods:J(J({},Object(n.d)(["show_error"])),{},{build:function(){var t=this;if(!this.build_disabled){this.creating=!0;var e=this.api_prefix.concat("store-profile");axios.post(e,{nickname:this.nickname}).then((function(e){e.status?document.location.href="/":(t.show_error(e.message),t.build_disabled=!1,t.creating=!1)})).catch((function(e){if(422===e.status){var a="",i=e.data.errors;Object.keys(i).forEach((function(t){a+=i[t]+"\n"})),t.show_error(a)}else t.show_error("發生錯誤: "+e.statusText);t.build_disabled=!1,t.creating=!1}))}},ban_build:function(){var t=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9]+$");this.build_disabled=!this.nickname.match(t)||0===this.nickname.length||this.nickname.length>12}})},Z=Object(_.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[a("div",{staticClass:"card-header"},[t._v("建立暱稱")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("暱稱")]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",class:t.disabled_class(t.build_disabled),staticStyle:{width:"100%"},attrs:{type:"text",autocomplete:"off",autofocus:""},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},t.ban_build]}}),t._v(" "),a("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("最多12字元，且無特殊字元")])]),t._v(" "),a("button",{staticClass:"btn btn-primary",class:{"btn-loading":t.creating},staticStyle:{width:"60px",height:"1%"},attrs:{type:"button",disabled:"",disabled:t.build_disabled},on:{click:t.build}},[t._v("建立\n                        ")])])]),t._v(" "),a("CardFooter",{attrs:{error:t.error,type:"alert-danger"}})],1)])])])}),[],!1,null,null,null).exports,W=a("2Sd7");function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){X(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function X(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Y={data:function(){return{old_password:"",new_password:"",new_password_confirmation:"",new_password_disabled:!0,old_password_disabled:!0,update_password_disabled:!0,old_password_show:!1,new_password_show:!1,updating:!1}},components:{CardFooter:q.a,PasswordToggleButton:W.a},mounted:function(){this.loading.finish(!0)},computed:V(V({},Object(n.e)(["error","api_prefix","loading"])),Object(n.c)(["between","pw_toggle","disabled_class"])),methods:V(V({},Object(n.d)(["show_error"])),{},{old_password_toggle_button:function(t){this.old_password_show=t.target.checked},new_password_toggle_button:function(t){this.new_password_show=t.target.checked},ban_update_password:function(){this.old_password_disabled=!this.between(this.old_password.length,8,32),this.new_password_disabled=this.new_password!==this.new_password_confirmation||!this.between(this.new_password.length,8,32)||this.old_password===this.new_password,this.update_password_disabled=this.old_password_disabled||this.new_password_disabled},to_update_password:function(){var t=this;if(!this.update_password_disabled&&this.old_password!==this.new_password){this.updating=!0;var e=this.api_prefix.concat("update-password");axios.patch(e,{old_password:this.old_password,new_password:this.new_password,new_password_confirmation:this.new_password_confirmation}).then((function(e){e.status?t.$router.push({name:"index"}).catch((function(){})):(t.show_error(e.message),t.update_password_disabled=!1)})).catch((function(e){if(422===e.status){var a="",i=e.data.errors;Object.keys(i).forEach((function(t){a+=i[t]+"\n"})),t.show_error(a)}else t.show_error(e.statusText);t.update_password_disabled=!1})).finally((function(){t.updating=!1}))}}})},G=Object(_.a)(Y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[a("div",{staticClass:"card-header"},[t._v("修改密碼")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("舊密碼")]),t._v(" "),a("div",{staticClass:"col-md-8"},["checkbox"===t.pw_toggle(t.old_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"form-control",class:t.disabled_class(t.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(t.old_password)?t._i(t.old_password,null)>-1:t.old_password},on:{input:t.ban_update_password,change:function(e){var a=t.old_password,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.old_password=a.concat([null])):n>-1&&(t.old_password=a.slice(0,n).concat(a.slice(n+1)))}else t.old_password=s}}}):"radio"===t.pw_toggle(t.old_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"form-control",class:t.disabled_class(t.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"radio"},domProps:{checked:t._q(t.old_password,null)},on:{input:t.ban_update_password,change:function(e){t.old_password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"form-control",class:t.disabled_class(t.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:t.pw_toggle(t.old_password_show).type},domProps:{value:t.old_password},on:{input:[function(e){e.target.composing||(t.old_password=e.target.value)},t.ban_update_password]}})]),t._v(" "),a("PasswordToggleButton",{attrs:{click_event:t.old_password_toggle_button,show:t.old_password_show,id_name:"old_password_toggle_button"}})],1),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("新密碼")]),t._v(" "),a("div",{staticClass:"col-md-8"},["checkbox"===t.pw_toggle(t.new_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(t.new_password)?t._i(t.new_password,null)>-1:t.new_password},on:{input:t.ban_update_password,change:function(e){var a=t.new_password,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.new_password=a.concat([null])):n>-1&&(t.new_password=a.slice(0,n).concat(a.slice(n+1)))}else t.new_password=s}}}):"radio"===t.pw_toggle(t.new_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"radio"},domProps:{checked:t._q(t.new_password,null)},on:{input:t.ban_update_password,change:function(e){t.new_password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:t.pw_toggle(t.new_password_show).type},domProps:{value:t.new_password},on:{input:[function(e){e.target.composing||(t.new_password=e.target.value)},t.ban_update_password]}}),t._v(" "),a("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("請介於8到32字元之間")])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("確認新密碼")]),t._v(" "),a("div",{staticClass:"col-md-8"},["checkbox"===t.pw_toggle(t.new_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password_confirmation,expression:"new_password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(t.new_password_confirmation)?t._i(t.new_password_confirmation,null)>-1:t.new_password_confirmation},on:{input:t.ban_update_password,change:function(e){var a=t.new_password_confirmation,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.new_password_confirmation=a.concat([null])):n>-1&&(t.new_password_confirmation=a.slice(0,n).concat(a.slice(n+1)))}else t.new_password_confirmation=s}}}):"radio"===t.pw_toggle(t.new_password_show).type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password_confirmation,expression:"new_password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:"radio"},domProps:{checked:t._q(t.new_password_confirmation,null)},on:{input:t.ban_update_password,change:function(e){t.new_password_confirmation=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password_confirmation,expression:"new_password_confirmation"}],staticClass:"form-control",class:t.disabled_class(t.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",maxlength:"32",required:"",autofocus:"",type:t.pw_toggle(t.new_password_show).type},domProps:{value:t.new_password_confirmation},on:{input:[function(e){e.target.composing||(t.new_password_confirmation=e.target.value)},t.ban_update_password]}})]),t._v(" "),a("PasswordToggleButton",{attrs:{click_event:t.new_password_toggle_button,show:t.new_password_show,id_name:"new_password_toggle_button"}})],1),t._v(" "),a("button",{staticClass:"btn btn-primary btn-block",class:{"btn-loading":t.updating},staticStyle:{margin:"0 0"},attrs:{type:"button",disabled:"",disabled:t.update_password_disabled},on:{click:t.to_update_password}},[t._v("修改\n                    ")])]),t._v(" "),a("CardFooter",{attrs:{error:t.error,type:"alert-danger"}})],1)])])])}),[],!1,null,null,null).exports;s.a.use(r.a);var tt=[{path:"/",component:x,name:"index",meta:{title:"我的偶像",KeepAlive:!0}},{path:"/active-idol",component:S,name:"active-idol",meta:{title:"活耀偶像",KeepAlive:!0}},{path:"/profile/:name",component:F,name:"profile",meta:{title:"偶像資訊",KeepAlive:!0}},{path:"/rebirth",component:T,name:"rebirth",meta:{title:"偶像轉生",KeepAlive:!0}},{path:"/chatroom",component:M,name:"chatroom",meta:{title:"聊天室",KeepAlive:!0}},{path:"/create-profile",component:Z,name:"create-profile",meta:{title:"創建偶像"}},{path:"/update-password",component:G,name:"update-password",meta:{title:"修改密碼"}}],et=new r.a({mode:"history",linkActiveClass:"active",routes:tt}),at=a("JzxJ"),it=a("fa2K");function st(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function nt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?st(Object(a),!0).forEach((function(e){ot(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):st(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ot(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function rt(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ct=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,i;return e=t,i=[{key:"variables",value:function(){s.a.prototype.first_load=!0}},{key:"methods",value:function(){var t=Date.now();s.a.prototype.reload=function(){if(Date.now()>t){var e=new Date;return e.setSeconds(e.getSeconds()+5),t=e,!0}return!1}}}],(a=null)&&rt(e.prototype,a),i&&rt(e,i),t}();try{a("ryeu"),window.axios.interceptors.request.use((function(t){return et.app.$nextTick((function(){et.app.$refs.loading.start()})),t}),(function(t){return Promise.reject(t)})),window.axios.interceptors.response.use((function(t){return et.app.$nextTick((function(){et.app.$refs.loading.finish(!0)})),t}),(function(t){return et.app.$nextTick((function(){et.app.$refs.loading.finish(!1)})),Promise.reject(t)})),ct.variables(),ct.methods(),et.beforeEach((function(t,e,a){document.title=t.meta.title,a()})),new s.a({el:"#app",components:{lightswitch:at.a,loading:it.a},store:o.a,data:function(){return{loaded:!1,prompt_msg:null,prompt_type:null}},created:function(){var t=this;window.axios.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.token),this.load_my_profile().then((function(){t.loaded=!0,o.a.state.IsCreated&&(t.unlock_character_event(),t.danger_event())}))},mounted:function(){o.a.state.loading=this.$refs.loading},methods:nt(nt({},Object(n.b)(["load_my_profile"])),{},{logout:function(){Swal.fire({title:"登出",text:"確定登出?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消",focusCancel:!0}).then((function(t){t.isConfirmed&&(document.location.href="/logout",localStorage.removeItem("token"))}))},unlock_character_event:function(){var t="",e=[{keyCode:"383840403737393966656665","character-name":"Akai Haato"},{keyCode:"82828282","character-name":"Uruha Rushia"},{keyCode:"85668566","character-name":"Inugami Korone"}];document.addEventListener("keyup",(function(a){if(a.keyCode){var i=0;t+=a.keyCode.toString(),e.forEach((function(e){return t===e.keyCode?(a=e["character-name"],s=o.a.state.api_prefix.concat("unlock-character"),axios.post(s,{character_name:a}),!0):!!e.keyCode.includes(t)||void i++;var a,s})),e.length===i&&(t=a.keyCode.toString())}})),Echo.private("unlock-character-channel-".concat(o.a.state.profile.name)).listen(".unlock-character-event",(function(t){var e,a=t.Character;e='<div style="color: #DC3545;">'+a+"</div>",Swal.fire({title:"已解鎖新偶像",html:e,icon:"success",allowOutsideClick:!1})}))},danger_event:function(){var t=this;Echo.private("danger-channel-".concat(o.a.state.profile.name)).listen(".danger-event",(function(e){var a=e.type,i=e.message;i&&(t.clear_prompt_msg&&clearTimeout(t.clear_prompt_msg),t.prompt_type=a,t.prompt_msg=i,t.load_my_profile().then((function(){o.a.state.prompt_count++})),t.clear_prompt_msg=setTimeout((function(){t.prompt_msg=null}),1e4))}))}}),router:et}),et.beforeEach((function(t,e,a){et.app.$nextTick((function(){et.app.$refs.loading.start()})),o.a.commit("error_clear"),o.a.state.IsCreated?(s.a.prototype.first_load=!1,a()):"create-profile"!==t.name&&"update-password"!==t.name?a({name:"create-profile"}):a()}))}catch(t){}},"Q8j+":function(t,e,a){"use strict";a.r(e);var i=a("vDqi"),s=a.n(i);window.axios=s.a.create(),window.axios.interceptors.response.use((function(t){var e=t.headers.authorization;return e&&(localStorage.token=e.substr(7),window.axios.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.token)),t.data}),(function(t){switch(t.response.status){case 401:document.location.href="/logout",localStorage.removeItem("token")}return Promise.reject(t.response)}))},UDhH:function(t,e,a){var i=a("CnAM");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},"UR+d":function(t,e,a){"use strict";a("l+uh")},W6SR:function(t,e,a){"use strict";a.r(e);var i=a("Vjiq");try{window.Pusher=a("eC5B"),window.Echo=new i.a({broadcaster:"pusher",key:"bfddb21a2101f2af2297",cluster:"ap3",forceTLS:!0})}catch(t){}},YdD5:function(t,e,a){"use strict";a("enKj")},ZH4u:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".table[data-v-05f65ca9]{margin-bottom:1px}.current-select[data-v-05f65ca9]{border:3px solid var(--primary-bg-color);cursor:default}.current-select[data-v-05f65ca9],.not-select[data-v-05f65ca9]{display:flex;flex-direction:column;height:100%;padding:2px 4px;transition:all .2s ease 0s}.not-select[data-v-05f65ca9]{border:3px solid transparent;cursor:pointer}.not-select[data-v-05f65ca9]:hover{border-color:#777}.character-frame[data-v-05f65ca9]{width:50%}.character-frame[data-v-05f65ca9]:first-child{width:50%;border:1px solid var(--border-color)}.character-frame[data-v-05f65ca9]:nth-child(2){border-top:1px solid var(--border-color)}.character-frame[data-v-05f65ca9]:nth-child(2),.character-frame[data-v-05f65ca9]:nth-child(odd){width:50%;border-bottom:1px solid var(--border-color);border-right:1px solid var(--border-color)}.character-frame[data-v-05f65ca9]:nth-child(odd){border-left:1px solid var(--border-color)}.character-frame[data-v-05f65ca9]:nth-child(2n){width:50%;border-bottom:1px solid var(--border-color);border-right:1px solid var(--border-color)}@media screen and (max-width:640px){.character-frame[data-v-05f65ca9]{width:100%;border-right:1px solid var(--border-color);border-left:1px solid var(--border-color);border-bottom:1px solid var(--border-color)}.character-frame[data-v-05f65ca9]:last-child,.character-frame[data-v-05f65ca9]:nth-child(2n),.character-frame[data-v-05f65ca9]:nth-child(odd){width:100%}}table th[data-v-05f65ca9]{width:120px}",""])},c2PZ:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".show-hide-toggle-button[data-v-70bbee5d]{margin-top:.7rem}.show-hide-toggle-button>input[type=checkbox][data-v-70bbee5d]{display:none}.show-hide-toggle-button>label[data-v-70bbee5d]{width:1.2rem;height:1rem;text-indent:-9999px;-webkit-background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/hide-v0.0.1.svg);background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/hide-v0.0.1.svg);background-repeat:no-repeat;background-size:18px 18px;transition:all .2s ease 0s;cursor:pointer}.show-hide-toggle-button>input:checked+label[data-v-70bbee5d]{-webkit-background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/show-v0.0.1.svg);background-image:url(https://f000.backblazeb2.com/file/idolmoment/password-toggle-button/show-v0.0.1.svg)}",""])},cUE7:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"input[type=text][data-v-9f822566]{width:80%}button.btn.btn-bottom[data-v-9f822566]{margin-bottom:12px;margin-right:3px}",""])},enKj:function(t,e,a){var i=a("uzgr");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},fa2K:function(t,e,a){"use strict";var i={data:function(){return{percent:0,show:!1,duration:3e3,status:null}},methods:{start:function(){var t=this;this.show=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval((function(){t.percent>95?t.decrease(t._cut*Math.random()):t.increase(t._cut*Math.random())}),100)},status_color:function(){return null===this.status?"#ffe277":this.status?"#77ebff":"#f65353"},increase:function(t){this.percent=this.percent+Math.floor(t)},decrease:function(t){this.percent=this.percent-Math.floor(t)},finish:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.status=t,this.percent=100,this.hide()},hide:function(){var t=this;clearInterval(this._timer),this._timer=null,setTimeout((function(){t.show=!1,setTimeout((function(){t.status=null,t.percent=0}),200)}),500)}}},s=(a("IE/5"),a("KHd+")),n=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",staticStyle:{height:"2px","background-color":"#ffe277"},style:{width:this.percent+"%",opacity:this.show?1:0,"background-color":this.status_color()}})}),[],!1,null,"0887ce69",null);e.a=n.exports},fgE3:function(t,e,a){"use strict";var i={props:["type","error"],components:{msg:a("v9aq").a}},s=a("KHd+"),n=Object(s.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return this.error.status?e("div",{staticClass:"card-footer",class:this.type},[e("msg",{staticStyle:{"text-align":"center"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}}),this._v(" "),e("path",{attrs:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"}})]),this._v("\n        "+this._s(this.error.message)+"\n    ")])],1):this._e()}),[],!1,null,null,null);e.a=n.exports},k0f2:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".self[data-v-afe97078]{background-color:var(--self-bg-color)!important}.teetee[data-v-afe97078]{background-color:var(--teetee-bg-color)!important}.graduate[data-v-afe97078]{color:var(--graduate-color)!important}",""])},"l+uh":function(t,e,a){var i=a("5QCU");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},ohdr:function(t,e,a){try{a("SYky")}catch(t){}},pyCd:function(t,e){},ryeu:function(t,e,a){a("ohdr"),a("W6SR"),a("Q8j+"),window.Swal=a("PdH4")},uzgr:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".img-big[data-v-5cf3f5ed]{max-width:160px}.img-big[data-v-5cf3f5ed],.img-small[data-v-5cf3f5ed]{margin:0 auto;text-align:center;position:relative;overflow:hidden;background-color:#fff}.img-small[data-v-5cf3f5ed]{max-width:60px}.img-big>picture img[data-v-5cf3f5ed]{height:160px;width:160px}.img-small>picture img[data-v-5cf3f5ed]{height:60px;width:60px}",""])},v9aq:function(t,e,a){"use strict";var i;a.d(e,"a",(function(){return o}));var s,n,o=a("nFaw").a.div(i||(s=["\n    color: #9A0000;\n"],n||(n=s.slice(0)),i=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(n)}}))))},vSrR:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".progress[data-v-0887ce69]{position:fixed;top:0;left:0;right:0;height:2px;width:0;transition:width .4s,opacity .4s;opacity:1;background-color:#efc14e;z-index:999999}",""])},yIm2:function(t,e,a){var i=a("OE64");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)}},[[0,0,1]]]);