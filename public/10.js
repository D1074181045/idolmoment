(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4shS":function(s,t,a){"use strict";a.r(t);var e=a("v9aq"),o=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9]+$"),r={data:function(){return{old_password:"",new_password:"",new_password_confirm:"",new_password_disabled:!0,old_password_disabled:!0,update_password_disabled:!0}},components:{msg:e.a},created:function(){document.title="修改密碼"},computed:{error:function(){return this.$store.state.error}},methods:{between:function(s,t,a){return s>=t&&s<=a},ban_update_password:function(){this.old_password.match(o)?this.old_password_disabled=!this.between(this.old_password.length,8,32):this.old_password_disabled=!0,this.new_password===this.new_password_confirm&&this.new_password.match(o)?this.new_password_disabled=!this.between(this.new_password.length,8,32):this.new_password_disabled=!0,this.update_password_disabled=this.old_password_disabled||this.new_password_disabled},to_update_password:function(){var s=this;this.update_password_disabled||axios.patch(this.api_prefix.concat("update-password"),{old_password:this.old_password,new_password:this.new_password,new_password_confirm:this.new_password_confirm}).then((function(t){var a=t.status,e=t.message;a?s.$router.push({name:"index"}):(s.$store.commit("show_error",e),s.update_password_disabled=!1)})).catch((function(t){if(422===t.status){var a="",e=t.data.errors;Object.keys(e).forEach((function(s){a+=e[s]+"\n"})),s.$store.commit("show_error",a)}else s.$store.commit("show_error","發生錯誤: "+t.status);s.update_password_disabled=!1}))}}},d=a("KHd+"),i=Object(d.a)(r,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[a("div",{staticClass:"card-header"},[s._v("修改密碼")]),s._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("舊密碼")]),s._v(" "),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.old_password,expression:"old_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:""},domProps:{value:s.old_password},on:{input:[function(t){t.target.composing||(s.old_password=t.target.value)},s.ban_update_password]}})])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("新密碼")]),s._v(" "),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password,expression:"new_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:""},domProps:{value:s.new_password},on:{input:[function(t){t.target.composing||(s.new_password=t.target.value)},s.ban_update_password]}})])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("確認新密碼")]),s._v(" "),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password_confirm,expression:"new_password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:""},domProps:{value:s.new_password_confirm},on:{input:[function(t){t.target.composing||(s.new_password_confirm=t.target.value)},s.ban_update_password]}}),s._v(" "),a("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[s._v("請介於8到32字元之間，且無特殊字元")])])]),s._v(" "),a("button",{staticClass:"btn btn-primary btn-block",staticStyle:{margin:"0 0"},attrs:{type:"button",disabled:"",disabled:s.update_password_disabled},on:{click:s.to_update_password}},[s._v("修改\n                    ")])]),s._v(" "),s.error.status?a("div",{staticClass:"card-footer"},[a("msg",{staticStyle:{"text-align":"center"}},[s._v(s._s(s.error.message))])],1):s._e()])])])])}),[],!1,null,null,null);t.default=i.exports},v9aq:function(s,t,a){"use strict";var e;a.d(t,"a",(function(){return d}));var o,r,d=a("nFaw").a.div(e||(o=["\n    color: #9A0000;\n    font-size:20px;\n"],r||(r=o.slice(0)),e=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}}))))}}]);