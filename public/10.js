(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4shS":function(s,o,e){"use strict";e.r(o);var t=e("v9aq"),a=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9]+$"),r={data:function(){return{old_password:"",new_password:"",new_password_confirm:"",new_password_disabled:!0,old_password_disabled:!0,update_password_disabled:!0,old_password_show:!1,new_password_show:!1}},components:{msg:t.a},created:function(){document.title="修改密碼"},computed:{error:function(){return this.$store.state.error},api_prefix:function(){return this.$store.state.api_prefix}},methods:{pw_title:function(s){return s?"顯示密碼":"隱藏密碼"},pw_type:function(s){return s?"text":"password"},old_password_toggle_button:function(s){this.old_password_show=s.target.checked},new_password_toggle_button:function(s){this.new_password_show=s.target.checked},between:function(s,o,e){return s>=o&&s<=e},ban_update_password:function(){this.old_password.match(a)?this.old_password_disabled=!this.between(this.old_password.length,8,32):this.old_password_disabled=!0,this.new_password===this.new_password_confirm&&this.new_password.match(a)?this.new_password_disabled=!this.between(this.new_password.length,8,32):this.new_password_disabled=!0,this.update_password_disabled=this.old_password_disabled||this.new_password_disabled},to_update_password:function(){var s=this;if(!this.update_password_disabled){var o=this.api_prefix.concat("update-password");axios.patch(o,{old_password:this.old_password,new_password:this.new_password,new_password_confirm:this.new_password_confirm}).then((function(o){var e=o.status,t=o.message;e?s.$router.push({name:"index"}):(s.$store.commit("show_error",t),s.update_password_disabled=!1)})).catch((function(o){if(422===o.status){var e="",t=o.data.errors;Object.keys(t).forEach((function(s){e+=t[s]+"\n"})),s.$store.commit("show_error",e)}else s.$store.commit("show_error","發生錯誤: "+o.status);s.update_password_disabled=!1}))}}}},d=e("KHd+"),i=Object(d.a)(r,(function(){var s=this,o=s.$createElement,e=s._self._c||o;return e("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[e("div",{staticClass:"card-header"},[s._v("修改密碼")]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("舊密碼")]),s._v(" "),e("div",{staticClass:"col-md-8"},["checkbox"===s.pw_type(s.old_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.old_password,expression:"old_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(s.old_password)?s._i(s.old_password,null)>-1:s.old_password},on:{input:s.ban_update_password,change:function(o){var e=s.old_password,t=o.target,a=!!t.checked;if(Array.isArray(e)){var r=s._i(e,null);t.checked?r<0&&(s.old_password=e.concat([null])):r>-1&&(s.old_password=e.slice(0,r).concat(e.slice(r+1)))}else s.old_password=a}}}):"radio"===s.pw_type(s.old_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.old_password,expression:"old_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"radio"},domProps:{checked:s._q(s.old_password,null)},on:{input:s.ban_update_password,change:function(o){s.old_password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.old_password,expression:"old_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.old_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:s.pw_type(s.old_password_show)},domProps:{value:s.old_password},on:{input:[function(o){o.target.composing||(s.old_password=o.target.value)},s.ban_update_password]}})]),s._v(" "),e("div",{staticClass:"show-hide-toggle-button"},[e("input",{attrs:{type:"checkbox",id:"old_password_toggle_button"},on:{click:s.old_password_toggle_button}}),s._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"old_password_toggle_button",title:s.pw_title(s.old_password_show)}},[s._v("Toggle")])])]),s._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("新密碼")]),s._v(" "),e("div",{staticClass:"col-md-8"},["checkbox"===s.pw_type(s.new_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password,expression:"new_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(s.new_password)?s._i(s.new_password,null)>-1:s.new_password},on:{input:s.ban_update_password,change:function(o){var e=s.new_password,t=o.target,a=!!t.checked;if(Array.isArray(e)){var r=s._i(e,null);t.checked?r<0&&(s.new_password=e.concat([null])):r>-1&&(s.new_password=e.slice(0,r).concat(e.slice(r+1)))}else s.new_password=a}}}):"radio"===s.pw_type(s.new_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password,expression:"new_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"radio"},domProps:{checked:s._q(s.new_password,null)},on:{input:s.ban_update_password,change:function(o){s.new_password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password,expression:"new_password"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:s.pw_type(s.new_password_show)},domProps:{value:s.new_password},on:{input:[function(o){o.target.composing||(s.new_password=o.target.value)},s.ban_update_password]}})])]),s._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 col-form-label text-md-right"},[s._v("確認新密碼")]),s._v(" "),e("div",{staticClass:"col-md-8"},["checkbox"===s.pw_type(s.new_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password_confirm,expression:"new_password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"checkbox"},domProps:{checked:Array.isArray(s.new_password_confirm)?s._i(s.new_password_confirm,null)>-1:s.new_password_confirm},on:{input:s.ban_update_password,change:function(o){var e=s.new_password_confirm,t=o.target,a=!!t.checked;if(Array.isArray(e)){var r=s._i(e,null);t.checked?r<0&&(s.new_password_confirm=e.concat([null])):r>-1&&(s.new_password_confirm=e.slice(0,r).concat(e.slice(r+1)))}else s.new_password_confirm=a}}}):"radio"===s.pw_type(s.new_password_show)?e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password_confirm,expression:"new_password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:"radio"},domProps:{checked:s._q(s.new_password_confirm,null)},on:{input:s.ban_update_password,change:function(o){s.new_password_confirm=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.new_password_confirm,expression:"new_password_confirm"}],staticClass:"form-control",class:s.$store.getters.disabled_class(s.new_password_disabled),staticStyle:{width:"100%"},attrs:{type:"password",autocomplete:"off",required:"",autofocus:"",type:s.pw_type(s.new_password_show)},domProps:{value:s.new_password_confirm},on:{input:[function(o){o.target.composing||(s.new_password_confirm=o.target.value)},s.ban_update_password]}}),s._v(" "),e("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[s._v("請介於8到32字元之間，且無特殊字元")])]),s._v(" "),e("div",{staticClass:"show-hide-toggle-button"},[e("input",{attrs:{type:"checkbox",id:"new_password_toggle_button"},on:{click:s.new_password_toggle_button}}),s._v(" "),e("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"new_password_toggle_button",title:s.pw_title(s.new_password_show)}},[s._v("Toggle")])])]),s._v(" "),e("button",{staticClass:"btn btn-primary btn-block",staticStyle:{margin:"0 0"},attrs:{type:"button",disabled:"",disabled:s.update_password_disabled},on:{click:s.to_update_password}},[s._v("修改\n                    ")])]),s._v(" "),s.error.status?e("div",{staticClass:"card-footer"},[e("msg",{staticStyle:{"text-align":"center"}},[s._v(s._s(s.error.message))])],1):s._e()])])])])}),[],!1,null,null,null);o.default=i.exports},v9aq:function(s,o,e){"use strict";var t;e.d(o,"a",(function(){return d}));var a,r,d=e("nFaw").a.div(t||(a=["\n    color: #9A0000;\n"],r||(r=a.slice(0)),t=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(r)}}))))}}]);