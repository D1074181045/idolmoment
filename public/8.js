(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{mNwH:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{nickname:"",build_disabled:!0}},components:{msg:s("v9aq").a},created:function(){document.title="創建偶像"},computed:{error:function(){return this.$store.state.error}},methods:{build:function(){var t=this;this.build_disabled||axios.post(this.api_prefix.concat("store-profile"),{nickname:this.nickname}).then((function(e){var s=e.status,a=e.message;s?t.$store.dispatch("load_my_profile").then((function(){t.$router.push({name:"index"})})):(t.$store.commit("show_error",a),t.build_disabled=!1)})).catch((function(e){if(422===e.status){var s="",a=e.data.errors;Object.keys(a).forEach((function(t){s+=a[t]+"\n"})),t.$store.commit("show_error",s)}else t.$store.commit("show_error","發生錯誤: "+e.statusText);t.build_disabled=!1}))},ban_build:function(){var t=new RegExp("^[㄀-ㄯ一-龥a-zA-Z0-9]+$");this.nickname.match(t)?this.build_disabled=0===this.nickname.length||this.nickname.length>12:this.build_disabled=!0}}},i=s("KHd+"),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",staticStyle:{color:"var(--form-control-color)"}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card",staticStyle:{"background-color":"var(--form-control-bg-color)"}},[s("div",{staticClass:"card-header"},[t._v("建立暱稱")]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v("暱稱")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",class:t.$store.getters.disabled_class(t.build_disabled),staticStyle:{width:"100%"},attrs:{type:"text",autocomplete:"off",autofocus:""},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},t.ban_build]}}),t._v(" "),s("div",{staticStyle:{"font-size":"12px",margin:"4px 8px"}},[t._v("最多12字元，且無特殊字元")])]),t._v(" "),s("button",{staticClass:"btn btn-primary",staticStyle:{width:"60px",height:"1%"},attrs:{type:"button",disabled:"",disabled:t.build_disabled},on:{click:t.build}},[t._v("建立")])])]),t._v(" "),t.error.status?s("div",{staticClass:"card-footer"},[s("msg",[t._v(t._s(t.error.message))])],1):t._e()])])])])}),[],!1,null,"e66d58c8",null);e.default=o.exports},v9aq:function(t,e,s){"use strict";var a;s.d(e,"a",(function(){return r}));var i,o,r=s("nFaw").a.div(a||(i=["\n    color: #9A0000;\n    font-size:20px;\n"],o||(o=i.slice(0)),a=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))))}}]);